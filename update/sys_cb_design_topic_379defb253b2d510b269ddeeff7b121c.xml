<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic/>
        <design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"05fe4d41c35a4ec49b634d0d0f28b6de","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"05fe4d41c35a4ec49b634d0d0f28b6de"}],"goals":[{"name":"primary","trigger_id":"05fe4d41c35a4ec49b634d0d0f28b6de","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"836b617db27842c6bc58d0c041d7366d","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"ee9a37b689ac4ea0aeba818bda2e7b1c","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var itemId = vaInputs.catalog_item_id.getValue();\n    var itemJSON = new sn_sc.CatalogConversationHelper().getItem(itemId);\n    vaVars.itemJSON = JSON.stringify(itemJSON);\n    vaVars.itemName = itemJSON.name;\n})()\n","id":"25b5773f1b5148d18fc6de6045430453","name":"Set Selected Item","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var response = gs.getMessage(\"Here are some more details about {0}\", vaVars.itemName);\n    if (itemJson.description) \n        return response + itemJson.description;\n\n    return gs.getMessage(\"Selected {0}\", vaVars.itemName);\n})()\n"}],"id":"988fa2d475a7444f834dbffe82622620","name":"Item Description","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"InputPrompt","type":"InputPrompt","variable_id":"2eec97e171694cf5a52a2449954fb307","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Should I proceed with this?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"e9a6888894644a5bbfaf0abd1db55696","name":"Proceed","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"proceed=false"},"id":"24729f5757c542afa13a2182ef499089","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"proceed=true"},"id":"48db127e7ee449098add17fbc0a16f5c","name":"Yes"}],"id":"1cbce907a4dd403e810c925529bf76d0","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Has VA Support","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return JSON.parse(vaVars.itemJSON).va_support;\n})()"},"id":"ebc8595d01df48f7909b41b2407fdee6","name":"Has VA Support"},{"type":"Branch","type":"Branch","label":"No VA Support","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !JSON.parse(vaVars.itemJSON).va_support;\n})()"},"id":"e503b786f43e4619889554126586baea","name":"No VA Support"}],"id":"c134ea9891d1473c9efa82012895f9d5","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Item with no variables","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()\n"},"id":"c2e7c725d63f435e8971356df920457a","name":"Item with no variables"},{"type":"Branch","type":"Branch","label":"Item with variables","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return true;\n    }\n    //No variables  that we can show\n    return false;\n})()\n"},"id":"0a716ffc28af4447b0f13433744f5a2b","name":"Item with variables"}],"id":"86c1111d62394e3a972157b9443972d7","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"va:topic:854dab3253b2d510b269ddeeff7b12e7:node:8b7e3d3556ff49c69ad2e783d2b5c05e:field:0\", vaContext.getRequesterLang())"}],"id":"8b7e3d3556ff49c69ad2e783d2b5c05e","name":"Start Questions","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Questions Done","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()"},"id":"69c8f2bcb41b4176a67a7fc5f28527a2","name":"Questions Done"},{"type":"Branch","type":"Branch","label":"Questions Left","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n     var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do {\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n        vaVars.qIndex = qIndex;\n        return true;\n    }\n    return false;\n})()"},"id":"e2cd9bae8d1b431e9452c9e34742dd3e","name":"Questions Left"}],"id":"e9eac585d26a4f3880d55b75518344db","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Catalog Item","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name !== 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"},"id":"e249af0f995d43a68f0b49691da23a38","name":"Catalog Item"},{"type":"Branch","type":"Branch","label":"Record Producer","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"},"id":"6fab11ad09ef47cf80bad566af9bd560","name":"Record Producer"}],"id":"988e6d3f9c1a43a7841e5ef99777733b","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"d21e775679e14ac6ba8f3c71e521fae9","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"va:topic:854dab3253b2d510b269ddeeff7b12e7:node:5ba7e3b605e545e3b07c22941e71faf3:field:Message\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"5ba7e3b605e545e3b07c22941e71faf3","name":"Submit Producer","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Don't Submit","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"submit_producer="},"id":"b20fa551eec74ae29a937e281cf6a05b","name":"Don't Submit"},{"type":"Branch","type":"Branch","label":"Submit Now","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"submit_producer=true"},"id":"0cc08824a81b4652aac5999a74f9fe0e","name":"Submit Now"}],"id":"1330750b00104280938055d31e8cb68e","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n   var itemJson = JSON.parse(vaVars.itemJSON);\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n   var reqObject = {\n       \"sysparm_id\" : itemJson.sys_id,\n       \"sysparm_action\" : 'execute_producer',\n        \"variables\" : variablesObj,\n        \"engagement_channel\" : 'va'\n   }\n   var response = new sn_sc.CatItem(itemJson.sys_id).submitProducer(reqObject);\n   if (response) {\n       vaVars.record_id = response.sys_id;\n       vaVars.record_table = response.table;\n       // add attachment to record\n       var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n       for (var i in mediaLinksFormAttachment)\n           vaSystem.attachToRecord(mediaLinksFormAttachment[i], response.table, response.sys_id);\n\n       // move attachment variable to record\n       var gr = new GlideRecord('sys_attachment');\n       gr.addQuery('sys_id', 'IN' , attachmentIds);\n       gr.query();\n       while (gr.next()) {\n           gr.setValue('table_name', 'ZZ_YY' + response.table);\n           gr.setValue('table_sys_id', response.sys_id);\n           gr.update();\n       }\n   }\n})()\n","id":"c74e0b99088f4651b434e1e875b8f0b1","name":"Insert the Record","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b33e500830b44d12a49777642a3c37f5","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"va:topic:854dab3253b2d510b269ddeeff7b12e7:node:ce3ba3071d3344e6834e81789558990b:field:Message\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"ce3ba3071d3344e6834e81789558990b","name":"Order Item","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Don't Order","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"order_item="},"id":"b8e7d8f709344c528d5f03f1560679d4","name":"Don't Order"},{"type":"Branch","type":"Branch","label":"Order Now","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"order_item=true"},"id":"a22d87aa75f54b918887a9269e329bf1","name":"Order Now"}],"id":"171f5fc4b90b423ea2b1a90cb79e80bb","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var cartname = \"vacart_\" + gs.generateGUID();\n    var cartObj = new sn_sc.CartJS(cartname);\n    cartObj.setRequestedFor(vaVars.request_for);\n    cartObj.setEngagementChannel('va');\n\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n        \n\n    var reqObj = {\n        \"sysparm_id\" : itemJson.sys_id,\n        \"variables\" : variablesObj\n    };\n    cartObj.addToCart(reqObj);\n    var requestResponse = cartObj.checkoutCart(true);\n    var requestGr = new GlideRecord('sc_request');\n    if (requestGr.get(requestResponse.request_id)) {\n        var reqItemGr = new GlideRecord('sc_req_item');\n        reqItemGr.addQuery(\"request\", requestResponse.request_id);\n        reqItemGr.query();\n        if (reqItemGr.next()) {\n            vaVars.record_id = reqItemGr.getUniqueValue();\n            vaVars.record_table = 'sc_req_item';\n            // add attachment to record\n            var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n            for (var i in mediaLinksFormAttachment)\n                vaSystem.attachToRecord(mediaLinksFormAttachment[i], vaVars.record_table, vaVars.record_id);\n\n        }\n        // move attachment variable to record\n        var gr = new GlideRecord('sys_attachment');\n        gr.addQuery('sys_id', 'IN' , attachmentIds);\n        gr.query();\n        while (gr.next()) {\n            gr.setValue('table_name', 'ZZ_YY' + vaVars.record_table);\n            gr.setValue('table_sys_id', vaVars.record_id);\n            gr.update();\n        }\n    }\n})()","id":"167c349716f2466482ed8ac660ce5b77","name":"Checkout Cart","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Question Requested For","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if (JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 31)\n        return true;\n})()\n"},"id":"c76691b680a4436891d76f0db3e2995f","name":"Question Requested For"},{"type":"Branch","type":"Branch","label":"Date Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 9;\n})()\n"},"id":"65b9aae6754c4274b34e878b961855d9","name":"Date Question"},{"type":"Branch","type":"Branch","label":"Text Type Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"},"id":"b1222870fcd34a5a8d5f9e2981c452cb","name":"Text Type Question"},{"type":"Branch","type":"Branch","label":"Date-Time Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 10;\n})()\n"},"id":"dcf43cd8eba342518159c3e5b81cb7e0","name":"Date-Time Question"},{"type":"Branch","type":"Branch","label":"Question Label","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 11;\n})()"},"id":"6085d35044d0440a99697ba9f8487d62","name":"Question Label"},{"type":"Branch","type":"Branch","label":"Container Or Break Questions","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    if (type === 0 || type === 12 || type === 19 || type === 20 || type === 24)\n        return true;\n})()\n"},"id":"f400eb259e064644954a9699d858b028","name":"Container Or Break Questions"},{"type":"Branch","type":"Branch","label":"Unsupported  Variable  Types","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var unSupportedTypes = vaVars.unsupportedVarTypes.split(',');\n   return unSupportedTypes.indexOf(String(JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type)) !== -1;\n})()\n"},"id":"7ce2b076c4cf4975af8fcabf230bf4d2","name":"Unsupported  Variable  Types"},{"type":"Branch","type":"Branch","label":"Email Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"},"id":"de49d49fcaef4286861d982fbfcc6567","name":"Email Question"},{"type":"Branch","type":"Branch","label":"Ip Address Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"},"id":"61965ef0114b4df48fbc429a15920cdb","name":"Ip Address Question"},{"type":"Branch","type":"Branch","label":"URL Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"},"id":"ffbbb47589244b869b42c2140769e164","name":"URL Question"},{"type":"Branch","type":"Branch","label":"Question Attachment","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 33;\n})()\n"},"id":"a2baa6f98c894f179fd4415fd9bb94f4","name":"Question Attachment"},{"type":"Branch","type":"Branch","label":"Rich Text Label Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 32;\n})()\n"},"id":"7eddd6052d6f4af49daf9f965213b648","name":"Rich Text Label Question"},{"type":"Branch","type":"Branch","label":"Choice Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 1 || type === 3 || type === 4 || type === 5 || type === 18 || type === 22;\n})()\n"},"id":"c88b21e1bd5448239338b11ce98eeb34","name":"Choice Question"},{"type":"Branch","type":"Branch","label":"Reference Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 8;\n})()"},"id":"99186ba9f155420f9319b70f913c4114","name":"Reference Question"}],"id":"70d3c365c13145e091a12dc5b10de86e","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"34ad30062bbf4d9e8f36fd72def41910","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"6f33efaa0e5b4679a117ea6c037aa577","name":"Question Date","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    vaVars.validation_message = \"\";\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var type = quesJson.type;\n    var vaFieldValidator = new global.VAFieldValidator();\n    // If user doesn't want to proceed with the selected value and skips the question, the variable would be set to \"\"\n    var proceedWithDefaultValue = vaInputs.proceed_with_default.getValue();\n    switch (type) {\n        case 2:\n        case 6:\n        case 16:\n            var ans = vaInputs.question_text.getValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            if (ans.trim().length === 0 &amp;&amp; itemJson.variables[vaVars.qIndex].mandatory) {\n                vaVars.validation_message = gs.getMessage('You must answer this question');\n                break;\n            }\n            if (type === 2) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n                break;\n            }\n            var q = GlideappQuestion.getQuestion(itemJson.variables[vaVars.qIndex].sys_id);\n            var validresponse = q.validateRegex(ans);\n            if (validresponse) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n            } else if (!validresponse)\n                vaVars.validation_message = q.getValidationMessage();\n            break;\n        case 9:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date = \"\";\n            break;\n        case 10:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date_time.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date_time = \"\";\n            break;\n        case 8:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_reference)\n                ans = vaInputs.question_reference.getValue();\n\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_reference = \"\";\n            break;\n        case 1:\n        case 3:\n        case 4:\n        case 5:\n        case 18:\n        case 22:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_choice) {\n                ans = vaInputs.question_choice.getValue();\n                ans = ans == 'no_data' ? '' : ans;\n            }\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_choice = \"\";\n            break;\n        case 26:\n            var ans = vaInputs.question_email.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_email.getValue() || ans == \"\" || vaFieldValidator.validateEmailAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_email = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid email address\");\n            break;\n        case 27:\n            var ans = vaInputs.question_url.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_url.getValue() || ans == \"\" || vaFieldValidator.validateURL(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_url = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid URL\");\n            break;\n        case 28:\n            var ans = vaInputs.question_ip_address.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_ip_address.getValue() || ans == \"\" || vaFieldValidator.validateIPAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_ip_address = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid IP Address\");\n            break;\n        case 31:\n            var ans = quesJson.default_value + '';\n            if (quesJson.default_value &amp;&amp; proceedWithDefaultValue)\n                vaVars.request_for = ans;\n            else if (vaVars.request_for)\n                ans = vaVars.request_for;\n            itemJson.variables[vaVars.qIndex].value = ans;\n    }\n    if (!vaVars.request_for)\n        vaVars.request_for = gs.getUserID() + '';\n    var executeDataLookup = false;\n    var executeDynamicValue = false;\n    if (quesJson.data_lookup_ids &amp;&amp; quesJson.data_lookup_ids.length != 0)\n        executeDataLookup = true;\n    if (itemJson.dynamic_value_variable_config &amp;&amp; itemJson.dynamic_value_variable_config[quesJson.sys_id] &amp;&amp; itemJson.dynamic_value_variable_config[quesJson.sys_id].length != 0)\n        executeDynamicValue = true;\n    if (executeDataLookup || executeDynamicValue) {\n        var helper = new sn_sc.CatalogConversationHelper();\n        vaVars.itemJSON = JSON.stringify(helper.executeVariableChangeHandlers(itemJson, quesJson.sys_id, executeDataLookup, executeDynamicValue));\n    } else\n        vaVars.itemJSON = JSON.stringify(itemJson);\n\n// resetting the value of proceed with default incase validation fails\n   if (vaVars.validation_message.length !== 0)\n       vaInputs.proceed_with_default = false;\n})()\n","id":"c66022ff4ef9481088af86b3b4316b39","name":"Post Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Repeat Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"},"id":"11b37ccc994247fdaefe246e0c1eaefa","name":"Repeat Question"},{"type":"Branch","type":"Branch","label":"Next Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"},"id":"859603bd30754db292d14b86e0e57e09","name":"Next Question"}],"id":"050914a1467e42bb91e6f8f0ef7da968","goal_id":"primary"},{"type":"ScriptOutputPrompt","type":"ScriptOutputPrompt","output_type":"single_part","id":"3a97a25793414ebf9115b7a2ac39428f","name":"Validation Message","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"value":{"type":"String","type":"String","mode":"string","value":"(function execute() {\n      var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       return singleOutMsg;\n})()"},"secure":false},{"type":"InputPrompt","type":"InputPrompt","variable_id":"56275a59ba5640deadbe70a2fd4ee8a7","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"5ab80eb6d2e44f0cb862fa2f4c8a8691","name":"Question Text","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"6453c12c82cb4b17a1fbeb39deba01a6","name":"Question Reference","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"8f8129ddd8a247a49082f9a0dc5267a4","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    vaVars.record_id = \"-1\";\n})()\n","id":"30e1f929914b4b7281419a754bec234e","name":"Set Record ID to -1","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"4c6af8c221ba4a99baf6be82b3926f46","name":"Question Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"7fbe73e26ec14d9487de4b1428ad09b2","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '') \n        return true;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    return false;\n})();\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    options = choices;\n    return options;    \n})()","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    options = choices;\n    return options;    \n})()"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"2eceae29bdbb48a9bfd3834cdfa3d005","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"820e4cbca8ad4f69b564dae363950c56","name":"Question Date Time","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"}],"id":"cde34d31b08b4178b8472d7b092c50e9","name":"Question Label","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"}],"id":"2aad8e51a2b84ced823f2aa28c1e9373","name":"Container Start Question","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.display_title)\n        return true;\n})()\n"},"secure":false},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"6c8059d4243f40bba1e4e7f037191d28","name":"Question Requested For","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"577429508dc844a1b29ca36a705ad6a0","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"va:topic:854dab3253b2d510b269ddeeff7b12e7:node:6c8059d4243f40bba1e4e7f037191d28:field:NoOptionsFoundMessage\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"2d78ae6b99284af099cd9e9ded5e9a22","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Who should I set it to?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"35ded4f6a1c44e88ae43408407b316a7","name":"Search Requested For","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Requested For Next","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'next';\n})()\n"},"id":"bf8c902ffd574a60ba2a910fc1a84b24","name":"Requested For Next"},{"type":"Branch","type":"Branch","label":"Search Requested For","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaInputs.question_requested_for.getValue() || vaInputs.question_requested_for.getValue() === 'search';\n})()\n"},"id":"22259a3f615a4bf09f126bbe1cc60258","name":"Search Requested For"},{"type":"Branch","type":"Branch","label":"Requested For Chosen","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_requested_for.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"},"id":"f9fbaeff4b1847ff8df9f20f6b69b9f2","name":"Requested For Chosen"},{"type":"Branch","type":"Branch","label":"Requested For Prev","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'prev';\n})()\n"},"id":"96188510a62a40e28b913e007593d8fb","name":"Requested For Prev"}],"id":"ec0b34f7ff00438c864eacc3bc6fab68","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"340b2646ef0e493d8548bf52bced973a","name":"Requested For Next Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var item = new sn_sc.CatItem(JSON.parse(vaVars.itemJSON).sys_id);\n    vaVars.request_for = vaInputs.question_requested_for.getValue() + '';\n    vaVars.canView = item.isDelegationAllowed(vaVars.request_for);\n})()\n","id":"61e06165adf54ebe9fafdcf813b08ced","name":"Is Delegation Allowed","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Can View","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.canView;\n})()\n"},"id":"f7448241a6bb4ed4ad23ca98acdc1b75","name":"Can View"},{"type":"Branch","type":"Branch","label":"Cannot View","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaVars.canView\n})()\n"},"id":"3fd7ea8bdf70400e8919df4f31ba0af1","name":"Cannot View"}],"id":"9ae8f87c78f342408154a342452a151a","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"c1d2b4d8ae83445b9c421b1ec714cf14","name":"Requested For Previous Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"a9b30e728ccd4cf98c1ff5659106305d","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"The selected user does not have access to this item. Do you want to request for  someone else?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"3e3216ff4796480687c66a71f0eb52ae","name":"Request For Another User","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Request for Another User","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"request_for_another_user=true"},"id":"982589bcc008487ca030400c9766f02d","name":"Request for Another User"},{"type":"Branch","type":"Branch","label":"End Conversation","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"request_for_another_user="},"id":"67cb94c122694adfb66e2479d252851e","name":"End Conversation"}],"id":"e282aa115dc64489a3dc8a155443f391","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"No onChange Policies","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"},"id":"61207ba6fe5844fd8666a8283b0b83dd","name":"No onChange Policies"},{"type":"Branch","type":"Branch","label":"Has onChange Policies","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"},"id":"7403684a6cc34e7f802513e1031a5ff5","name":"Has onChange Policies"}],"id":"a9b895be6b67455882cfb6b3a0c3cd6e","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n   vaVars.itemJSON = JSON.stringify(new sn_sc.CatalogConversationHelper().runChangePolicies(JSON.parse(vaVars.itemJSON)))\n})()\n","id":"d5e86ab12d0245509a9e6baa63794a59","name":"Run OnChange Policies","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"4a27aaa8e7304198b242baa8b7a4b187","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"6c5e06ab7b1f4c9f8dfbfd87c820a86f","name":"Question Email","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"33513d135b1200101f254d3ba881c7d5","validationScript":""},{"type":"InputPrompt","type":"InputPrompt","variable_id":"0b61462465db4c74af5e8c68ade728e6","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"109d6fcf686d44a98920f2ed88245fa7","name":"Question IP Address","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"a860c5945b2200101f254d3ba881c7df","validationScript":""},{"type":"InputPrompt","type":"InputPrompt","variable_id":"1a515f29c361490b880a95cf10963479","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"6030b829e1f44b02ae1690b327e41ccb","name":"Question URL","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"77d8b2935b9200101f254d3ba881c7b9","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Has  No Attachment","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === true;\n})()\n"},"id":"e420b792b78e466e93df914d77bde4fb","name":"Has  No Attachment"},{"type":"Branch","type":"Branch","label":"Has Attachment","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === false;\n})()\n"},"id":"c1807024747f40538933053fe11660d2","name":"Has Attachment"}],"id":"72d088e21d5f48f7b26f7459bf28ce5d","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"b3af740c1d534f119807f8b96398b18f","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('Add attachment?');\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"30e70f25e08d4d34a9d687006f038264","name":"Add Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment;\n})()\n"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment &amp;&amp; !vaInputs.add_attachment.getValue();\n})()\n"},"id":"828daec58af14fa5b40c65e9efe6534a","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.mandatory_attachment || vaInputs.add_attachment.getValue();\n})()\n"},"id":"a1f7b2ae4ef7460dae5f54cf2ef53b31","name":"Yes"}],"id":"fc76f2655de24bc8beb958d3c87e1c33","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"afdf7764a3d6442095b9b9ca14f2a723","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('Upload attachment');\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var addMore = false;\n    //when attachment is mandatory, to provide an option to skip add more \n    if (vaInputs.add_more &amp;&amp; vaInputs.add_more.getValue())\n        addMore = true;\n        \n    return !JSON.parse(vaVars.itemJSON).mandatory_attachment || addMore;\n})()"},"id":"320b1ad80e814d5abf63efcd37a7187b","name":"Upload Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    if (!!vaVars.media_links_form_attachment)\n        vaVars.media_links_form_attachment = vaVars.media_links_form_attachment + ',' + vaInputs.upload_attachment.getValue();\n    else\n        vaVars.media_links_form_attachment = vaInputs.upload_attachment.getValue();\n})()\n","id":"8d55239a3ef54ccbbcaec023716f747d","name":"Add Media Links for Form Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"9e6ef42c35d64f5b80f388522c124b23","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('Add more?');\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"08c0349328e743b78153ecf79d34a325","name":"Add More","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"add_more=true"},"id":"37f8a51802d5489ba889951010101735","name":"Yes"},{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"add_more="},"id":"fd256090e56d4aa9ae24831f7eb1edf4","name":"No"}],"id":"907966ec64cf4ecc923673986a037b06","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"adff9847d5e546aab570210ed6a15a72","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"a441c1254f4448d3b4a1132c28e4edfe","name":"Question Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    vaVars.validation_message = \"\";\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var vaUtils = new global.VAUtils();\n    var arr = vaInputs.question_attachment.getValue().split('/');\n    var mediaId = arr[arr.length - 1];\n    var gr = new GlideRecord('sys_cs_media');\n    gr.addQuery('media_id', mediaId);\n    gr.query();\n    if (gr.next()) {\n        var attachmentId = gr.getValue('sys_attachment_id');\n        var attachRef = new GlideRecord('sys_attachment');\n        if (attachRef.get(attachmentId)) {\n            var file = {\n                name: attachRef.getValue('file_name'),\n                size: attachRef.getValue('size_bytes')\n            };\n            var allowedExtensions = new Array();\n            if (quesJson.allow_extension)\n               allowedExtensions = quesJson.allow_extension.split(';');\n            var field = {\n                allowedExtensions: allowedExtensions,\n                allowedFileSize: quesJson.max_file_size\n            };\n            var result = vaUtils.validateAttachment(file, field);\n            if (result.type == 'success') {\n                quesJson.value = attachmentId;\n                vaVars.itemJSON = JSON.stringify(itemJson);\n                vaInputs.question_attachment.setValue('');\n            } else\n                vaVars.validation_message = result.message;\n        } else \n            vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n    } else \n        vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n})()\n","id":"7848b0a8795143e792210e11e6d7ad76","name":"Validate Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"query","value":"question_attachmentISNOTEMPTY"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Next Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"},"id":"0d8d140849c84c42bc3776e57aea106f","name":"Next Question"},{"type":"Branch","type":"Branch","label":"Repeat Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"},"id":"2a52301a05034227891488555f1bb93d","name":"Repeat Question"}],"id":"bf93da351a324091923e73cc57d5b90f","goal_id":"primary"},{"type":"ScriptOutputPrompt","type":"ScriptOutputPrompt","output_type":"single_part","id":"3a9074e343be4d04b92488f7cff92805","name":"Validation Message","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"value":{"type":"String","type":"String","mode":"string","value":"(function execute() {\n     var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       vaVars.validation_message = \"\";\n       return singleOutMsg;\n})()\n"},"secure":false},{"type":"Decision","type":"Decision","name":"Is Record Producer","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n   \n    if (itemJson.sys_class_name !== 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()\n"},"id":"2086dcbb5cb943c0a81c198513905e69","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()"},"id":"9980ce98e25d4bb7916a8bf319f078cc","name":"Yes"}],"id":"34b75d32b7e947c9be750c493569c728","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Execute Contextual Search","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'false' || ans.trim().length === 0) {\n        return true;\n    }\n    return false;    \n})()\n"},"id":"0020d8f627e34195b1ac6f3a6759b921","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'true'  &amp;&amp; ans.trim().length !== 0) {\n        return true;\n    }\n    return false;     \n})()\n"},"id":"28004e29f901410b851072ddae8e705f","name":"Yes"}],"id":"99ac7d5f2c8248cbbdbbe867268e46f0","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    if(gs.nil(vaVars.contextualSearchVariable)) {\n        var searchConfig = contextualSearch.getContextualSearchVariableAndContext(vaInputs.catalog_item_id);\n        vaVars.contextualSearchVariable = searchConfig.searchVariable;\n        vaVars.contextualSearchContext = searchConfig.context;\n    }\n    return;\n})()\n","id":"8acbf8baa8514b8891d2ea5d7365c299","name":"Get Search Variable And Context","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Contextual Search Variable ?","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable !== quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"},"id":"ceb4f67938144642bb3b281539b5f7b7","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable === quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"},"id":"eb9be03005884231b2710a53a3b182b2","name":"Yes"}],"id":"6d4a3349910b445bafa32623a0ad0ebc","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    var response = contextualSearch.search(\n        vaVars.contextualSearchContext, vaInputs.question_text.getValue(), ''\n    );\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        return;\n    }  \n    var relevantSearchResults = contextualSearch.processGeneralResults(response, 20, -2);\n    vaVars.contextualSearchResultCount = relevantSearchResults.length;\n    vaVars.contextualSearchResultJsonString = JSON.stringify(relevantSearchResults);\n    vaVars.contextualSearchIndex = 0;\n    return;\n})()\n","id":"8f387c4cfd93437a85f65d9afcf5a1e9","name":"Contextual Search","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Did the search return results ?","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if(vaVars.contextualSearchResultCount &lt;= 0){\n        return true;\n    }\n    return false;\n})()\n"},"id":"30b851a3d69f492aa8369d49879d6716","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if(vaVars.contextualSearchResultCount &gt; 0){\n        return true;\n    }\n    return false;\n})()\n"},"id":"642ae089450946dd88e362f975aacf7e","name":"Yes"}],"id":"e429f41f148b49fcac66f5350abea502","goal_id":"primary"},{"type":"LinkOutputPrompt","type":"LinkOutputPrompt","header":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"I found some information that might help you:\", vaContext.getRequesterLang())"},"label":{"type":"String","type":"String","mode":"string","value":""},"url":{"type":"String","type":"String","mode":"string","value":""},"link_type":"multiple","multi_link_script":"(function execute(header) {\n\tvar contextualSearch = new global.VAGlobalContextualSearchUtil();\n\tvar variables = {\n\t\tlimit: vaVars.contextualSearchResultLimit,\n\t\tindex: vaVars.contextualSearchIndex,\n\t\tsearch_result_json_string: vaVars.contextualSearchResultJsonString,\n\t\tportal: ''\n\t}\n\tvar groupedLinksOutMsg = contextualSearch.getLinks(header, variables);\n\treturn groupedLinksOutMsg;\n})(header)\n","id":"af35d1b18d92406a87e2b9b8f911fa7e","name":"Display multi-link","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Did Articles Help ?","branches":[{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"did_articles_help=true"},"id":"b925532848604275a9456558a3a85206","name":"Yes"},{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"did_articles_help!=true"},"id":"88a453e4ef704e47a5ec67e786ea1db4","name":"No"}],"id":"0a8b35bbdea846d79548d9ff0d332b06","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"baf60aaef7bd41908441243355dab52f","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Did any of this information resolve your issue?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"344ee29e07d74d0da33b25ab45c5c4a5","name":"Did Articles Help","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Confirmation Required ?","branches":[{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"confirm_catalog_item=true"},"id":"55533c948eb444c39b4f65191e72f72c","name":"Yes"},{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"confirm_catalog_item=false"},"id":"96f696a3c70a462a9431278bfecdd264","name":"No"}],"id":"a4b0635009ad47188dd483fd7ad10456","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Order","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"},"id":"b5fab283040c44979e7f7b796d4517c2","name":"Order"},{"type":"Branch","type":"Branch","label":"Preview","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"},"id":"cce6967e0c0d4a8895358c4d7dcdda05","name":"Preview"}],"id":"ee726de82854420bb1f700445b8238c4","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Preview successful\", vaContext.getRequesterLang())"}],"id":"fbb5c8c0c6a84510b1cd78841d0926f1","name":"Catalog Builder Preview","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Submit","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"},"id":"399a3bd6aecf4e9689578708a498baa5","name":"Submit"},{"type":"Branch","type":"Branch","label":"Preview","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"},"id":"187d363a4886451faf9e4e715fa1dcc8","name":"Preview"}],"id":"de99d63b433e4d33967be27e06409a49","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Since this was a preview, the request was not submitted\", vaContext.getRequesterLang())"}],"id":"ed8365a67c6b48f7a6b6a945a883865b","name":"Catalog Builder Preview Message","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Attachment uploaded","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"upload_attachmentISNOTEMPTY"},"id":"5a47d32cc9dd4ac3afa03ed80d360e13","name":"Attachment uploaded"},{"type":"Branch","type":"Branch","label":"Attachment skipped","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"upload_attachmentISEMPTY"},"id":"f62f5769cbf94072a52ab020503ba6e9","name":"Attachment skipped"}],"id":"2a4467514c7f476dac1d3e1304137b6b","goal_id":"primary"},{"type":"ScriptOutputPrompt","type":"ScriptOutputPrompt","output_type":"single_part","id":"2b7e0141fd494576b8aec8be7205dd3e","name":"Question Rich Text Label","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"value":{"type":"String","type":"String","mode":"string","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"secure":false},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var renderedValue = quesJson.display_value ? quesJson.display_value : quesJson.value;\n    return gs.getMessage(\"&lt;b&gt;{0}&lt;/b&gt; was selected as the value for &lt;b&gt;{1}&lt;/b&gt;\", [renderedValue, quesJson.label])\n})()\n"}],"id":"27cdee4f92164c028813a6defe374f8c","name":"Default Value Acknowledgement ","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.value ? true : false;\n})()\n"},"secure":false},{"type":"InputPrompt","type":"InputPrompt","variable_id":"a297407c1ec9479fac64e066b2f3af81","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Do you want to proceed with this value?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"61fae8ec10b1441ca8fb0c7a701bad91","name":"Proceed with Default","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.value ? true : false;\n})()\n"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Do not proceed with default value","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"proceed_with_default="},"id":"a10cee2860ee42df970ef03c8b75092e","name":"Do not proceed with default value"},{"type":"Branch","type":"Branch","label":"Proceed with default value","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"proceed_with_default=true"},"id":"e219af2a01fe4d3681459a86d35031cd","name":"Proceed with default value"}],"id":"d468fc4e201044fdaae32753b0c4f713","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Show end state card?","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"show_end_state_card="},"id":"d11fd6c95c7d49d896017c6d07084f6c","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"show_end_state_card=true"},"id":"e0c80b2a935546d6afc3c394e1ebddaa","name":"Yes"}],"id":"d85fbfc28c194ceaaafe79f24a8467a7","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Text Type","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"},"id":"ef4f9d6e337f491ba81226cdc225f59c","name":"Text Type"},{"type":"Branch","type":"Branch","label":"Email Type","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"},"id":"5a7181228dfb4ed38f841606c661e9e5","name":"Email Type"},{"type":"Branch","type":"Branch","label":"IP Address Type","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"},"id":"e24622c3ee014f569230a164d6b2f0f3","name":"IP Address Type"},{"type":"Branch","type":"Branch","label":"URL Type","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"},"id":"70690b9d8a724e57ae38ffa2c7fbeaa1","name":"URL Type"}],"id":"4fcfa436a7f74dd8a87e2a5764a13077","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Messaging Channel","branches":[{"type":"Branch","type":"Branch","label":"Mobile/Web Client","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"},"id":"0f7f1195d3704da5838587985de2b951","name":"Mobile/Web Client"},{"type":"Branch","type":"Branch","label":"Other Channels","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()\n"},"id":"9b3c054ee4c243258e6f44231fc463ba","name":"Other Channels"}],"id":"03953adbfbd84821a0a205423447ba68","goal_id":"primary"},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"5cc5c5533600424aa9922f1d9c50f5f9","name":"Question Choice Other Channels","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"13fe918fc2db4a89833ec7d629e5c901","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '')\n        return true;\n    return false;\n})();\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Question Choice Prev","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"prev\";\n})()\n"},"id":"610049df50a94e2ebbf5bfcc9c1c98be","name":"Question Choice Prev"},{"type":"Branch","type":"Branch","label":"Question Choice Next","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"next\";\n})()\n"},"id":"ef0e40b98b3b482aac9bf37008e52289","name":"Question Choice Next"},{"type":"Branch","type":"Branch","label":"Question Choice Chosen","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_choice_other_channels.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"},"id":"663b63242f174bc18816465027c78081","name":"Question Choice Chosen"}],"id":"f4fef2c6ac474657a01757e432764b96","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"c74362c12bab4def8031dc1c228d3c2a","name":"Question Choice Prev Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"857a2ca17ace457ab77740c89ad2e7f0","name":"Question Choice Next Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    if(vaInputs.question_choice_other_channels) {\n        vaInputs.question_choice = vaInputs.question_choice_other_channels;\n        vaInputs.question_choice_other_channels = \"\";\n    }\n})()","id":"361cc379503b4181803e39a485557286","name":"Set Question Choice Value","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Messaging Channel","branches":[{"type":"Branch","type":"Branch","label":"Mobile/Web Client","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"},"id":"b40a581140904069a6f40ab72a408e1a","name":"Mobile/Web Client"},{"type":"Branch","type":"Branch","label":"Other Channels","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()"},"id":"5636e37d80944a6e8c052e283d4defb1","name":"Other Channels"}],"id":"ecb7ec4f0ecb4ca3b19fdc6023d885c1","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"600c7170ecad46a19321bdffc2215d17","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter a value to search\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"7eb9c5d44ae74b898dadb1e2163f6e6b","name":"Search Reference","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_reference_other_channels;\n})()\n"},"formatType":"Text","validationScript":""},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"5a0a41c0a7e2413f9933c50a27891af4","name":"Question Reference Other Channels","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"db8bc56dd63948a5b39fd78a8b716c34","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Question Reference Prev","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"prev\";\n})()\n"},"id":"42f44168421a44deba4b0eb77e216aae","name":"Question Reference Prev"},{"type":"Branch","type":"Branch","label":"Question Reference Next","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"next\";\n})()\n"},"id":"23c1d4bc5fd749648ed75addf6cb4dbb","name":"Question Reference Next"},{"type":"Branch","type":"Branch","label":"Question Reference Chosen/Skipped","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var chosenCondition = valuePicked &amp;&amp; valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev' &amp;&amp; valuePicked !== 'search';\n    var skippedCondition = vaVars.no_records_found === \"false\" &amp;&amp; !valuePicked;\n    if (chosenCondition || skippedCondition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    \n    return chosenCondition || skippedCondition;\n})();"},"id":"d1c015e3df1343e699134882bb5f8ddb","name":"Question Reference Chosen/Skipped"},{"type":"Branch","type":"Branch","label":"Search Question Reference","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var condition = (vaVars.no_records_found === \"true\") || valuePicked === \"search\";\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})()\n"},"id":"d3f261f5c4bd41adaecbc315c509455a","name":"Search Question Reference"}],"id":"00fb592cfc874adcb98f2093308c66c4","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"0d9abaea1ab746c8a0b56f7c7f921f08","name":"Question Reference Prev Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"6828be18cfb040438e7a1fe30123021c","name":"Question Reference Next Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    if(vaInputs.question_reference_other_channels) {\n        vaInputs.question_reference = vaInputs.question_reference_other_channels;\n        vaInputs.question_reference_other_channels = \"\";\n    }\n})()","id":"f937a07fbcc3438b8c0211a393babc23","name":"Set Question Reference Value","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"End state card for Catalog Request","library_topic_id":"0b01391550d30110fa9b861f7d83d7f6","parameter-mappings":[{"parameter-name":"record_id","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.record_id}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}},{"parameter-name":"record_table","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.record_table}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[],"id":"3da5cbd4bba8463b94fec99c0abeac0d","name":"End state card","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"3da5cbd4bba8463b94fec99c0abeac0d","target_node_id":"ee9a37b689ac4ea0aeba818bda2e7b1c","id":"196db0c3cc0241f39151b9d62dc34d76"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"35ded4f6a1c44e88ae43408407b316a7","branch_id":"c76691b680a4436891d76f0db3e2995f","id":"cfee9218c2c041b4ba2982a8112fa2db","name":"c76691b680a4436891d76f0db3e2995f"},{"type":"Edge","source_node_id":"c74e0b99088f4651b434e1e875b8f0b1","target_node_id":"d85fbfc28c194ceaaafe79f24a8467a7","id":"d57020c9102744cba06259b9c77f78e8"},{"type":"Edge","source_node_id":"a441c1254f4448d3b4a1132c28e4edfe","target_node_id":"7848b0a8795143e792210e11e6d7ad76","id":"23f5a9e53a3b40d3a98ea82783e17b79"},{"type":"Edge","source_node_id":"8d55239a3ef54ccbbcaec023716f747d","target_node_id":"08c0349328e743b78153ecf79d34a325","id":"3fe63cac1b504dca911b69e89c5dfc74"},{"type":"Edge","source_node_id":"ec0b34f7ff00438c864eacc3bc6fab68","target_node_id":"340b2646ef0e493d8548bf52bced973a","branch_id":"bf8c902ffd574a60ba2a910fc1a84b24","id":"d57763a6655748f7bdddae66640c3b74","name":"bf8c902ffd574a60ba2a910fc1a84b24"},{"type":"Edge","source_node_id":"988e6d3f9c1a43a7841e5ef99777733b","target_node_id":"ce3ba3071d3344e6834e81789558990b","branch_id":"e249af0f995d43a68f0b49691da23a38","id":"5e64032302884b698662f57f173b6679","name":"e249af0f995d43a68f0b49691da23a38"},{"type":"Edge","source_node_id":"836b617db27842c6bc58d0c041d7366d","target_node_id":"25b5773f1b5148d18fc6de6045430453","id":"8161efd6d467459589cb7f3e884d4caf"},{"type":"Edge","source_node_id":"988fa2d475a7444f834dbffe82622620","target_node_id":"e9a6888894644a5bbfaf0abd1db55696","id":"98db2d1e86a543e9a0877076e5d7ca15"},{"type":"Edge","source_node_id":"e9a6888894644a5bbfaf0abd1db55696","target_node_id":"1cbce907a4dd403e810c925529bf76d0","id":"4ee7f0eeef4543aba82dc87b288c951c"},{"type":"Edge","source_node_id":"1cbce907a4dd403e810c925529bf76d0","target_node_id":"ee9a37b689ac4ea0aeba818bda2e7b1c","branch_id":"24729f5757c542afa13a2182ef499089","id":"629d84f0bdcd485fb0c353ae8cff4a3a","name":"24729f5757c542afa13a2182ef499089"},{"type":"Edge","source_node_id":"1cbce907a4dd403e810c925529bf76d0","target_node_id":"c134ea9891d1473c9efa82012895f9d5","branch_id":"48db127e7ee449098add17fbc0a16f5c","id":"1d6f030ad9b9432f9bd5e81a05cab7a5","name":"48db127e7ee449098add17fbc0a16f5c"},{"type":"Edge","source_node_id":"c134ea9891d1473c9efa82012895f9d5","target_node_id":"86c1111d62394e3a972157b9443972d7","branch_id":"ebc8595d01df48f7909b41b2407fdee6","id":"4bf829e853564cb4a11c9346fa90b920","name":"ebc8595d01df48f7909b41b2407fdee6"},{"type":"Edge","source_node_id":"86c1111d62394e3a972157b9443972d7","target_node_id":"e9eac585d26a4f3880d55b75518344db","branch_id":"c2e7c725d63f435e8971356df920457a","id":"5f1f98822bdb4f66b0ef224f285a6c4a","name":"c2e7c725d63f435e8971356df920457a"},{"type":"Edge","source_node_id":"86c1111d62394e3a972157b9443972d7","target_node_id":"8b7e3d3556ff49c69ad2e783d2b5c05e","branch_id":"0a716ffc28af4447b0f13433744f5a2b","id":"9d84f77aabcd476599e9c12107cbac87","name":"0a716ffc28af4447b0f13433744f5a2b"},{"type":"Edge","source_node_id":"8b7e3d3556ff49c69ad2e783d2b5c05e","target_node_id":"e9eac585d26a4f3880d55b75518344db","id":"336ca989a42d473b97d49e21e7829f59"},{"type":"Edge","source_node_id":"988e6d3f9c1a43a7841e5ef99777733b","target_node_id":"5ba7e3b605e545e3b07c22941e71faf3","branch_id":"6fab11ad09ef47cf80bad566af9bd560","id":"85a0ed0bba594e9e96c9ebc05b4e15ef","name":"6fab11ad09ef47cf80bad566af9bd560"},{"type":"Edge","source_node_id":"5ba7e3b605e545e3b07c22941e71faf3","target_node_id":"1330750b00104280938055d31e8cb68e","id":"a68b9c8e1b2e4b59ae086eb64d31c01c"},{"type":"Edge","source_node_id":"1330750b00104280938055d31e8cb68e","target_node_id":"ee9a37b689ac4ea0aeba818bda2e7b1c","branch_id":"b20fa551eec74ae29a937e281cf6a05b","id":"6e334471c0f342d889aed095e3bad742","name":"b20fa551eec74ae29a937e281cf6a05b"},{"type":"Edge","source_node_id":"ce3ba3071d3344e6834e81789558990b","target_node_id":"171f5fc4b90b423ea2b1a90cb79e80bb","id":"0ba8b5b851a144148d0f4578ded5d087"},{"type":"Edge","source_node_id":"171f5fc4b90b423ea2b1a90cb79e80bb","target_node_id":"ee9a37b689ac4ea0aeba818bda2e7b1c","branch_id":"b8e7d8f709344c528d5f03f1560679d4","id":"d77d8fb1962c4ea79f96eeb81aeacaff","name":"b8e7d8f709344c528d5f03f1560679d4"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"6f33efaa0e5b4679a117ea6c037aa577","branch_id":"65b9aae6754c4274b34e878b961855d9","id":"1ccbc27b41134ea7a6346f57d6caf494","name":"65b9aae6754c4274b34e878b961855d9"},{"type":"Edge","source_node_id":"6f33efaa0e5b4679a117ea6c037aa577","target_node_id":"c66022ff4ef9481088af86b3b4316b39","id":"40927adc7bc64f5a80788770cf9c53e5"},{"type":"Edge","source_node_id":"c66022ff4ef9481088af86b3b4316b39","target_node_id":"050914a1467e42bb91e6f8f0ef7da968","id":"7034a03c8f98441384678750d4c6bf01"},{"type":"Edge","source_node_id":"050914a1467e42bb91e6f8f0ef7da968","target_node_id":"3a97a25793414ebf9115b7a2ac39428f","branch_id":"11b37ccc994247fdaefe246e0c1eaefa","id":"752bbd006bbd4306bd329d3fa3ec1da5","name":"11b37ccc994247fdaefe246e0c1eaefa"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"5ab80eb6d2e44f0cb862fa2f4c8a8691","branch_id":"b1222870fcd34a5a8d5f9e2981c452cb","id":"d63d0ca52f024f2abba1ed8652203b2a","name":"b1222870fcd34a5a8d5f9e2981c452cb"},{"type":"Edge","source_node_id":"c134ea9891d1473c9efa82012895f9d5","target_node_id":"30e1f929914b4b7281419a754bec234e","branch_id":"e503b786f43e4619889554126586baea","id":"9edf60efd14b4ab28f15e7509a8f847e","name":"e503b786f43e4619889554126586baea"},{"type":"Edge","source_node_id":"30e1f929914b4b7281419a754bec234e","target_node_id":"ee9a37b689ac4ea0aeba818bda2e7b1c","id":"c49c6dcff29840b08fe33cd32a7f144e"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"820e4cbca8ad4f69b564dae363950c56","branch_id":"dcf43cd8eba342518159c3e5b81cb7e0","id":"601f210aae634ac59916bedd5effe459","name":"dcf43cd8eba342518159c3e5b81cb7e0"},{"type":"Edge","source_node_id":"820e4cbca8ad4f69b564dae363950c56","target_node_id":"c66022ff4ef9481088af86b3b4316b39","id":"59d331d1d8a34b258eca7bfcfd8b5fbf"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"cde34d31b08b4178b8472d7b092c50e9","branch_id":"6085d35044d0440a99697ba9f8487d62","id":"1820fcf6344e4647b719eee511139cfe","name":"6085d35044d0440a99697ba9f8487d62"},{"type":"Edge","source_node_id":"cde34d31b08b4178b8472d7b092c50e9","target_node_id":"c66022ff4ef9481088af86b3b4316b39","id":"595905167eca448cac480da5b7d35a13"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"2aad8e51a2b84ced823f2aa28c1e9373","branch_id":"f400eb259e064644954a9699d858b028","id":"d5386ac3ce6249c7a663d873eee5c45f","name":"f400eb259e064644954a9699d858b028"},{"type":"Edge","source_node_id":"2aad8e51a2b84ced823f2aa28c1e9373","target_node_id":"c66022ff4ef9481088af86b3b4316b39","id":"2ee14bec9ad74c049e0ddf396b96c28b"},{"type":"Edge","source_node_id":"35ded4f6a1c44e88ae43408407b316a7","target_node_id":"6c8059d4243f40bba1e4e7f037191d28","id":"d040fb189e6e45bd80b1cc1aac52ff74"},{"type":"Edge","source_node_id":"6c8059d4243f40bba1e4e7f037191d28","target_node_id":"ec0b34f7ff00438c864eacc3bc6fab68","id":"05f8b9b52f484bf687950f80f4d4a6b9"},{"type":"Edge","source_node_id":"340b2646ef0e493d8548bf52bced973a","target_node_id":"6c8059d4243f40bba1e4e7f037191d28","id":"1fed5ed12b944922a3858b19a3e99249"},{"type":"Edge","source_node_id":"ec0b34f7ff00438c864eacc3bc6fab68","target_node_id":"35ded4f6a1c44e88ae43408407b316a7","branch_id":"22259a3f615a4bf09f126bbe1cc60258","id":"a4eeeacba3744b5287598bd2f27320b0","name":"22259a3f615a4bf09f126bbe1cc60258"},{"type":"Edge","source_node_id":"ec0b34f7ff00438c864eacc3bc6fab68","target_node_id":"61e06165adf54ebe9fafdcf813b08ced","branch_id":"f9fbaeff4b1847ff8df9f20f6b69b9f2","id":"a57c45ebf604434cb3123886ef914223","name":"f9fbaeff4b1847ff8df9f20f6b69b9f2"},{"type":"Edge","source_node_id":"61e06165adf54ebe9fafdcf813b08ced","target_node_id":"9ae8f87c78f342408154a342452a151a","id":"497ca151ddd04ec885b30c177a374489"},{"type":"Edge","source_node_id":"9ae8f87c78f342408154a342452a151a","target_node_id":"c66022ff4ef9481088af86b3b4316b39","branch_id":"f7448241a6bb4ed4ad23ca98acdc1b75","id":"7548e218c80a4bda8a6ab556b8fe4b3b","name":"f7448241a6bb4ed4ad23ca98acdc1b75"},{"type":"Edge","source_node_id":"ec0b34f7ff00438c864eacc3bc6fab68","target_node_id":"c1d2b4d8ae83445b9c421b1ec714cf14","branch_id":"96188510a62a40e28b913e007593d8fb","id":"a3d8f66cf51f4dc1b9f0a15fc33d599b","name":"96188510a62a40e28b913e007593d8fb"},{"type":"Edge","source_node_id":"c1d2b4d8ae83445b9c421b1ec714cf14","target_node_id":"6c8059d4243f40bba1e4e7f037191d28","id":"e8731506a729429caab4954a19fd2b72"},{"type":"Edge","source_node_id":"9ae8f87c78f342408154a342452a151a","target_node_id":"3e3216ff4796480687c66a71f0eb52ae","branch_id":"3fd7ea8bdf70400e8919df4f31ba0af1","id":"b312fb9f6ef242718c78aed998888e3a","name":"3fd7ea8bdf70400e8919df4f31ba0af1"},{"type":"Edge","source_node_id":"3e3216ff4796480687c66a71f0eb52ae","target_node_id":"e282aa115dc64489a3dc8a155443f391","id":"200985a6e6f6462898f2ff63f578d7ea"},{"type":"Edge","source_node_id":"e282aa115dc64489a3dc8a155443f391","target_node_id":"35ded4f6a1c44e88ae43408407b316a7","branch_id":"982589bcc008487ca030400c9766f02d","id":"a68640d80a21441996913806fe875370","name":"982589bcc008487ca030400c9766f02d"},{"type":"Edge","source_node_id":"e282aa115dc64489a3dc8a155443f391","target_node_id":"ee9a37b689ac4ea0aeba818bda2e7b1c","branch_id":"67cb94c122694adfb66e2479d252851e","id":"409a6c604ab34eb8bc7668b8c0d8390c","name":"67cb94c122694adfb66e2479d252851e"},{"type":"Edge","source_node_id":"050914a1467e42bb91e6f8f0ef7da968","target_node_id":"a9b895be6b67455882cfb6b3a0c3cd6e","branch_id":"859603bd30754db292d14b86e0e57e09","id":"90b265142a3449cd880743a2db459e68","name":"859603bd30754db292d14b86e0e57e09"},{"type":"Edge","source_node_id":"a9b895be6b67455882cfb6b3a0c3cd6e","target_node_id":"e9eac585d26a4f3880d55b75518344db","branch_id":"61207ba6fe5844fd8666a8283b0b83dd","id":"3732a17900b44671a5b8b3f819b0294b","name":"61207ba6fe5844fd8666a8283b0b83dd"},{"type":"Edge","source_node_id":"a9b895be6b67455882cfb6b3a0c3cd6e","target_node_id":"d5e86ab12d0245509a9e6baa63794a59","branch_id":"7403684a6cc34e7f802513e1031a5ff5","id":"1d15bc50fe354e6b893841646ddac33a","name":"7403684a6cc34e7f802513e1031a5ff5"},{"type":"Edge","source_node_id":"d5e86ab12d0245509a9e6baa63794a59","target_node_id":"e9eac585d26a4f3880d55b75518344db","id":"c3fbc6fca26840bfb3e89a4d9e53285e"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"c66022ff4ef9481088af86b3b4316b39","branch_id":"7ce2b076c4cf4975af8fcabf230bf4d2","id":"6e7db92dbc1b42e3b20ddb6fbcc8880a","name":"7ce2b076c4cf4975af8fcabf230bf4d2"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"6c5e06ab7b1f4c9f8dfbfd87c820a86f","branch_id":"de49d49fcaef4286861d982fbfcc6567","id":"bffbb3eb63aa48fa9525a3f61070094d","name":"de49d49fcaef4286861d982fbfcc6567"},{"type":"Edge","source_node_id":"6c5e06ab7b1f4c9f8dfbfd87c820a86f","target_node_id":"c66022ff4ef9481088af86b3b4316b39","id":"ee6879ad8de649eda95c2d178645f191"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"109d6fcf686d44a98920f2ed88245fa7","branch_id":"61965ef0114b4df48fbc429a15920cdb","id":"33604bfc376b4390ae1d95d9eea2739d","name":"61965ef0114b4df48fbc429a15920cdb"},{"type":"Edge","source_node_id":"109d6fcf686d44a98920f2ed88245fa7","target_node_id":"c66022ff4ef9481088af86b3b4316b39","id":"743e86fff8fa477fa46ed2100fcfdeec"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"6030b829e1f44b02ae1690b327e41ccb","branch_id":"ffbbb47589244b869b42c2140769e164","id":"49e5c6659ac24accbf83692d16fb0084","name":"ffbbb47589244b869b42c2140769e164"},{"type":"Edge","source_node_id":"6030b829e1f44b02ae1690b327e41ccb","target_node_id":"c66022ff4ef9481088af86b3b4316b39","id":"dabf062cb75c49619de80b3f33f44e97"},{"type":"Edge","source_node_id":"e9eac585d26a4f3880d55b75518344db","target_node_id":"72d088e21d5f48f7b26f7459bf28ce5d","branch_id":"69c8f2bcb41b4176a67a7fc5f28527a2","id":"3570650843de4b758c7f8a0110608663","name":"69c8f2bcb41b4176a67a7fc5f28527a2"},{"type":"Edge","source_node_id":"72d088e21d5f48f7b26f7459bf28ce5d","target_node_id":"988e6d3f9c1a43a7841e5ef99777733b","branch_id":"e420b792b78e466e93df914d77bde4fb","id":"863c6269edcf43c0a0f700c8094e2b4d","name":"e420b792b78e466e93df914d77bde4fb"},{"type":"Edge","source_node_id":"72d088e21d5f48f7b26f7459bf28ce5d","target_node_id":"30e70f25e08d4d34a9d687006f038264","branch_id":"c1807024747f40538933053fe11660d2","id":"e8e01c4349c042ce8b75f247b2dfaee5","name":"c1807024747f40538933053fe11660d2"},{"type":"Edge","source_node_id":"30e70f25e08d4d34a9d687006f038264","target_node_id":"fc76f2655de24bc8beb958d3c87e1c33","id":"bf235ee219bd47c5ad72e4cbe23c1aa0"},{"type":"Edge","source_node_id":"fc76f2655de24bc8beb958d3c87e1c33","target_node_id":"988e6d3f9c1a43a7841e5ef99777733b","branch_id":"828daec58af14fa5b40c65e9efe6534a","id":"2b8a586121fb4bd1b1b330589906d80f","name":"828daec58af14fa5b40c65e9efe6534a"},{"type":"Edge","source_node_id":"fc76f2655de24bc8beb958d3c87e1c33","target_node_id":"320b1ad80e814d5abf63efcd37a7187b","branch_id":"a1f7b2ae4ef7460dae5f54cf2ef53b31","id":"9477a702f0ab434b8fc7552779001e77","name":"a1f7b2ae4ef7460dae5f54cf2ef53b31"},{"type":"Edge","source_node_id":"08c0349328e743b78153ecf79d34a325","target_node_id":"907966ec64cf4ecc923673986a037b06","id":"c85d2f4850894c0fb48a36c1cd4a2693"},{"type":"Edge","source_node_id":"907966ec64cf4ecc923673986a037b06","target_node_id":"320b1ad80e814d5abf63efcd37a7187b","branch_id":"37f8a51802d5489ba889951010101735","id":"b08b5ce0c1064341a485d126952dd5f9","name":"37f8a51802d5489ba889951010101735"},{"type":"Edge","source_node_id":"907966ec64cf4ecc923673986a037b06","target_node_id":"988e6d3f9c1a43a7841e5ef99777733b","branch_id":"fd256090e56d4aa9ae24831f7eb1edf4","id":"4a73f856339043c6bc7a137df829e196","name":"fd256090e56d4aa9ae24831f7eb1edf4"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"a441c1254f4448d3b4a1132c28e4edfe","branch_id":"a2baa6f98c894f179fd4415fd9bb94f4","id":"b7059b97624e48ee92bd83875211341d","name":"a2baa6f98c894f179fd4415fd9bb94f4"},{"type":"Edge","source_node_id":"7848b0a8795143e792210e11e6d7ad76","target_node_id":"bf93da351a324091923e73cc57d5b90f","id":"963340c9d7cc4b879636d3e9b3f57f97"},{"type":"Edge","source_node_id":"bf93da351a324091923e73cc57d5b90f","target_node_id":"a9b895be6b67455882cfb6b3a0c3cd6e","branch_id":"0d8d140849c84c42bc3776e57aea106f","id":"510d752cb6de47b68875f646d62c7981","name":"0d8d140849c84c42bc3776e57aea106f"},{"type":"Edge","source_node_id":"bf93da351a324091923e73cc57d5b90f","target_node_id":"3a9074e343be4d04b92488f7cff92805","branch_id":"2a52301a05034227891488555f1bb93d","id":"60be3616800943bd83551cd45efc60a6","name":"2a52301a05034227891488555f1bb93d"},{"type":"Edge","source_node_id":"3a9074e343be4d04b92488f7cff92805","target_node_id":"a441c1254f4448d3b4a1132c28e4edfe","id":"5214ef1741dd4490a2892156dcb61158"},{"type":"Edge","source_node_id":"5ab80eb6d2e44f0cb862fa2f4c8a8691","target_node_id":"34b75d32b7e947c9be750c493569c728","id":"575b288721f64116a02aaaa7e90b599a"},{"type":"Edge","source_node_id":"34b75d32b7e947c9be750c493569c728","target_node_id":"c66022ff4ef9481088af86b3b4316b39","branch_id":"2086dcbb5cb943c0a81c198513905e69","id":"8fecfe183b104dbfb8ac058123d4aedb","name":"2086dcbb5cb943c0a81c198513905e69"},{"type":"Edge","source_node_id":"34b75d32b7e947c9be750c493569c728","target_node_id":"99ac7d5f2c8248cbbdbbe867268e46f0","branch_id":"9980ce98e25d4bb7916a8bf319f078cc","id":"6f41189bc0d443f0add3eb6d1f0ab3fa","name":"9980ce98e25d4bb7916a8bf319f078cc"},{"type":"Edge","source_node_id":"99ac7d5f2c8248cbbdbbe867268e46f0","target_node_id":"c66022ff4ef9481088af86b3b4316b39","branch_id":"0020d8f627e34195b1ac6f3a6759b921","id":"1538f6616eb94399a3e8be68afb2d884","name":"0020d8f627e34195b1ac6f3a6759b921"},{"type":"Edge","source_node_id":"99ac7d5f2c8248cbbdbbe867268e46f0","target_node_id":"8acbf8baa8514b8891d2ea5d7365c299","branch_id":"28004e29f901410b851072ddae8e705f","id":"5a4e8e34725d462d8967f83fe7668ffa","name":"28004e29f901410b851072ddae8e705f"},{"type":"Edge","source_node_id":"8acbf8baa8514b8891d2ea5d7365c299","target_node_id":"6d4a3349910b445bafa32623a0ad0ebc","id":"736a9fd4e03a403bbef9f93d6172803e"},{"type":"Edge","source_node_id":"6d4a3349910b445bafa32623a0ad0ebc","target_node_id":"c66022ff4ef9481088af86b3b4316b39","branch_id":"ceb4f67938144642bb3b281539b5f7b7","id":"8e1778a272a348659dbee677e04f34b8","name":"ceb4f67938144642bb3b281539b5f7b7"},{"type":"Edge","source_node_id":"6d4a3349910b445bafa32623a0ad0ebc","target_node_id":"8f387c4cfd93437a85f65d9afcf5a1e9","branch_id":"eb9be03005884231b2710a53a3b182b2","id":"b417dcdbb8744b2fbaff59671311a48a","name":"eb9be03005884231b2710a53a3b182b2"},{"type":"Edge","source_node_id":"8f387c4cfd93437a85f65d9afcf5a1e9","target_node_id":"e429f41f148b49fcac66f5350abea502","id":"a5d8dec105e94a1d82054ce8c4526a5c"},{"type":"Edge","source_node_id":"e429f41f148b49fcac66f5350abea502","target_node_id":"c66022ff4ef9481088af86b3b4316b39","branch_id":"30b851a3d69f492aa8369d49879d6716","id":"36fecec3264648d89d0ee127b5b7be17","name":"30b851a3d69f492aa8369d49879d6716"},{"type":"Edge","source_node_id":"e429f41f148b49fcac66f5350abea502","target_node_id":"af35d1b18d92406a87e2b9b8f911fa7e","branch_id":"642ae089450946dd88e362f975aacf7e","id":"d10d8fb98bab4a048404bf8047fe2fd7","name":"642ae089450946dd88e362f975aacf7e"},{"type":"Edge","source_node_id":"0a8b35bbdea846d79548d9ff0d332b06","target_node_id":"ee9a37b689ac4ea0aeba818bda2e7b1c","branch_id":"b925532848604275a9456558a3a85206","id":"3529b4ba02b54a708bd9f5e6a6446688","name":"b925532848604275a9456558a3a85206"},{"type":"Edge","source_node_id":"0a8b35bbdea846d79548d9ff0d332b06","target_node_id":"c66022ff4ef9481088af86b3b4316b39","branch_id":"88a453e4ef704e47a5ec67e786ea1db4","id":"4ad8c5236def46e89c39194940fec38e","name":"88a453e4ef704e47a5ec67e786ea1db4"},{"type":"Edge","source_node_id":"af35d1b18d92406a87e2b9b8f911fa7e","target_node_id":"344ee29e07d74d0da33b25ab45c5c4a5","id":"2eda65d0f35e47c1b37228244e284344"},{"type":"Edge","source_node_id":"344ee29e07d74d0da33b25ab45c5c4a5","target_node_id":"0a8b35bbdea846d79548d9ff0d332b06","id":"9a153645a1ad401aa4f3a25e92e1df6c"},{"type":"Edge","source_node_id":"25b5773f1b5148d18fc6de6045430453","target_node_id":"a4b0635009ad47188dd483fd7ad10456","id":"8f8d84eb3971473d8e87ede26accccf1"},{"type":"Edge","source_node_id":"a4b0635009ad47188dd483fd7ad10456","target_node_id":"988fa2d475a7444f834dbffe82622620","branch_id":"55533c948eb444c39b4f65191e72f72c","id":"a79c88ec7d6640c4abc29079a54c441b","name":"55533c948eb444c39b4f65191e72f72c"},{"type":"Edge","source_node_id":"a4b0635009ad47188dd483fd7ad10456","target_node_id":"e9eac585d26a4f3880d55b75518344db","branch_id":"96f696a3c70a462a9431278bfecdd264","id":"68fc1e5349664040b2de6b8345220ced","name":"96f696a3c70a462a9431278bfecdd264"},{"type":"Edge","source_node_id":"171f5fc4b90b423ea2b1a90cb79e80bb","target_node_id":"ee726de82854420bb1f700445b8238c4","branch_id":"a22d87aa75f54b918887a9269e329bf1","id":"818afdbc07e348dca0b69926d9ac59b4","name":"a22d87aa75f54b918887a9269e329bf1"},{"type":"Edge","source_node_id":"ee726de82854420bb1f700445b8238c4","target_node_id":"167c349716f2466482ed8ac660ce5b77","branch_id":"b5fab283040c44979e7f7b796d4517c2","id":"9b0aa2c9c5194fac940a043760533b15","name":"b5fab283040c44979e7f7b796d4517c2"},{"type":"Edge","source_node_id":"ee726de82854420bb1f700445b8238c4","target_node_id":"fbb5c8c0c6a84510b1cd78841d0926f1","branch_id":"cce6967e0c0d4a8895358c4d7dcdda05","id":"8b969255494a4c91b602d37a679e2747","name":"cce6967e0c0d4a8895358c4d7dcdda05"},{"type":"Edge","source_node_id":"1330750b00104280938055d31e8cb68e","target_node_id":"de99d63b433e4d33967be27e06409a49","branch_id":"0cc08824a81b4652aac5999a74f9fe0e","id":"899084b5ca574a92a71cf4ab9179efb8","name":"0cc08824a81b4652aac5999a74f9fe0e"},{"type":"Edge","source_node_id":"de99d63b433e4d33967be27e06409a49","target_node_id":"c74e0b99088f4651b434e1e875b8f0b1","branch_id":"399a3bd6aecf4e9689578708a498baa5","id":"cadece4df2a2482aab1227ff13df4030","name":"399a3bd6aecf4e9689578708a498baa5"},{"type":"Edge","source_node_id":"de99d63b433e4d33967be27e06409a49","target_node_id":"fbb5c8c0c6a84510b1cd78841d0926f1","branch_id":"187d363a4886451faf9e4e715fa1dcc8","id":"69cb4486806743ff9f21f705e7c000ee","name":"187d363a4886451faf9e4e715fa1dcc8"},{"type":"Edge","source_node_id":"fbb5c8c0c6a84510b1cd78841d0926f1","target_node_id":"ed8365a67c6b48f7a6b6a945a883865b","id":"5a0a22802a864b118c71c2ae0ad72655"},{"type":"Edge","source_node_id":"ed8365a67c6b48f7a6b6a945a883865b","target_node_id":"ee9a37b689ac4ea0aeba818bda2e7b1c","id":"9ef716c902384c889ca88d76495bf5cf"},{"type":"Edge","source_node_id":"320b1ad80e814d5abf63efcd37a7187b","target_node_id":"2a4467514c7f476dac1d3e1304137b6b","id":"d7f1de7b01f84072b294cbb363061820"},{"type":"Edge","source_node_id":"2a4467514c7f476dac1d3e1304137b6b","target_node_id":"8d55239a3ef54ccbbcaec023716f747d","branch_id":"5a47d32cc9dd4ac3afa03ed80d360e13","id":"3d205bd9b6d544f0b8c3a8b2acca558f","name":"5a47d32cc9dd4ac3afa03ed80d360e13"},{"type":"Edge","source_node_id":"2a4467514c7f476dac1d3e1304137b6b","target_node_id":"988e6d3f9c1a43a7841e5ef99777733b","branch_id":"f62f5769cbf94072a52ab020503ba6e9","id":"9fe948b2100949b2a16e59043a1aca7b","name":"f62f5769cbf94072a52ab020503ba6e9"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"2b7e0141fd494576b8aec8be7205dd3e","branch_id":"7eddd6052d6f4af49daf9f965213b648","id":"4954354aa639426a988b863743506124","name":"7eddd6052d6f4af49daf9f965213b648"},{"type":"Edge","source_node_id":"2b7e0141fd494576b8aec8be7205dd3e","target_node_id":"c66022ff4ef9481088af86b3b4316b39","id":"0e29b9d922e3458bbd6e96befa40aba2"},{"type":"Edge","source_node_id":"e9eac585d26a4f3880d55b75518344db","target_node_id":"27cdee4f92164c028813a6defe374f8c","branch_id":"e2cd9bae8d1b431e9452c9e34742dd3e","id":"1f7443815cfe42ae91752a326ac6c9e2","name":"e2cd9bae8d1b431e9452c9e34742dd3e"},{"type":"Edge","source_node_id":"27cdee4f92164c028813a6defe374f8c","target_node_id":"61fae8ec10b1441ca8fb0c7a701bad91","id":"32c91425b74f4ff19c1392a5aa81c292"},{"type":"Edge","source_node_id":"61fae8ec10b1441ca8fb0c7a701bad91","target_node_id":"d468fc4e201044fdaae32753b0c4f713","id":"aa39f648ebcd4c2ab611aac98b759c1b"},{"type":"Edge","source_node_id":"d468fc4e201044fdaae32753b0c4f713","target_node_id":"70d3c365c13145e091a12dc5b10de86e","branch_id":"a10cee2860ee42df970ef03c8b75092e","id":"07c396cccfbf4f248b2f836ebbbcf818","name":"a10cee2860ee42df970ef03c8b75092e"},{"type":"Edge","source_node_id":"d468fc4e201044fdaae32753b0c4f713","target_node_id":"c66022ff4ef9481088af86b3b4316b39","branch_id":"e219af2a01fe4d3681459a86d35031cd","id":"153d0a1caa0a43cea1cb1be4769ceab0","name":"e219af2a01fe4d3681459a86d35031cd"},{"type":"Edge","source_node_id":"167c349716f2466482ed8ac660ce5b77","target_node_id":"d85fbfc28c194ceaaafe79f24a8467a7","id":"e7786e2e2a184e389552a15766f46b16"},{"type":"Edge","source_node_id":"d85fbfc28c194ceaaafe79f24a8467a7","target_node_id":"ee9a37b689ac4ea0aeba818bda2e7b1c","branch_id":"d11fd6c95c7d49d896017c6d07084f6c","id":"0f44af831bcc4565bc7d9360953cbdf9","name":"d11fd6c95c7d49d896017c6d07084f6c"},{"type":"Edge","source_node_id":"3a97a25793414ebf9115b7a2ac39428f","target_node_id":"4fcfa436a7f74dd8a87e2a5764a13077","id":"c7554d6ddfac495eb5e4d22b2b082d77"},{"type":"Edge","source_node_id":"4fcfa436a7f74dd8a87e2a5764a13077","target_node_id":"5ab80eb6d2e44f0cb862fa2f4c8a8691","branch_id":"ef4f9d6e337f491ba81226cdc225f59c","id":"e04c187f89944f4b9f0883f88cdd5bdd","name":"ef4f9d6e337f491ba81226cdc225f59c"},{"type":"Edge","source_node_id":"4fcfa436a7f74dd8a87e2a5764a13077","target_node_id":"6c5e06ab7b1f4c9f8dfbfd87c820a86f","branch_id":"5a7181228dfb4ed38f841606c661e9e5","id":"b2a7703d5afe418e943e55f94ef5a039","name":"5a7181228dfb4ed38f841606c661e9e5"},{"type":"Edge","source_node_id":"4fcfa436a7f74dd8a87e2a5764a13077","target_node_id":"109d6fcf686d44a98920f2ed88245fa7","branch_id":"e24622c3ee014f569230a164d6b2f0f3","id":"222793f3bc7949078172d58e5be5f27d","name":"e24622c3ee014f569230a164d6b2f0f3"},{"type":"Edge","source_node_id":"4fcfa436a7f74dd8a87e2a5764a13077","target_node_id":"6030b829e1f44b02ae1690b327e41ccb","branch_id":"70690b9d8a724e57ae38ffa2c7fbeaa1","id":"46c7b7506e8a4df6bcb0220c0b700780","name":"70690b9d8a724e57ae38ffa2c7fbeaa1"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"03953adbfbd84821a0a205423447ba68","branch_id":"c88b21e1bd5448239338b11ce98eeb34","id":"1036ce2791fd4627a94b259250e6b442","name":"c88b21e1bd5448239338b11ce98eeb34"},{"type":"Edge","source_node_id":"03953adbfbd84821a0a205423447ba68","target_node_id":"4c6af8c221ba4a99baf6be82b3926f46","branch_id":"0f7f1195d3704da5838587985de2b951","id":"6f415fed03ee491cbd4cdf109c953c8b","name":"0f7f1195d3704da5838587985de2b951"},{"type":"Edge","source_node_id":"03953adbfbd84821a0a205423447ba68","target_node_id":"5cc5c5533600424aa9922f1d9c50f5f9","branch_id":"9b3c054ee4c243258e6f44231fc463ba","id":"00b5f2d713b34c519f584b4bd9fc9fef","name":"9b3c054ee4c243258e6f44231fc463ba"},{"type":"Edge","source_node_id":"5cc5c5533600424aa9922f1d9c50f5f9","target_node_id":"f4fef2c6ac474657a01757e432764b96","id":"b07984f6f2844cd8b2b14d640df0cc18"},{"type":"Edge","source_node_id":"f4fef2c6ac474657a01757e432764b96","target_node_id":"c74362c12bab4def8031dc1c228d3c2a","branch_id":"610049df50a94e2ebbf5bfcc9c1c98be","id":"12e72a98618049089770f12991531ac4","name":"610049df50a94e2ebbf5bfcc9c1c98be"},{"type":"Edge","source_node_id":"c74362c12bab4def8031dc1c228d3c2a","target_node_id":"5cc5c5533600424aa9922f1d9c50f5f9","id":"7a583b2e6549435da90e0e86c518dec2"},{"type":"Edge","source_node_id":"f4fef2c6ac474657a01757e432764b96","target_node_id":"857a2ca17ace457ab77740c89ad2e7f0","branch_id":"ef0e40b98b3b482aac9bf37008e52289","id":"78c254fc19004ee8833d5593b4c24e18","name":"ef0e40b98b3b482aac9bf37008e52289"},{"type":"Edge","source_node_id":"857a2ca17ace457ab77740c89ad2e7f0","target_node_id":"5cc5c5533600424aa9922f1d9c50f5f9","id":"d8a90ff297484c499dffe5ede1afc99a"},{"type":"Edge","source_node_id":"f4fef2c6ac474657a01757e432764b96","target_node_id":"361cc379503b4181803e39a485557286","branch_id":"663b63242f174bc18816465027c78081","id":"2fc8776e5ca94ad8a2c36177947479bb","name":"663b63242f174bc18816465027c78081"},{"type":"Edge","source_node_id":"4c6af8c221ba4a99baf6be82b3926f46","target_node_id":"361cc379503b4181803e39a485557286","id":"cdc4fa03e44643788662b77523f0b450"},{"type":"Edge","source_node_id":"361cc379503b4181803e39a485557286","target_node_id":"c66022ff4ef9481088af86b3b4316b39","id":"014e169ea7ea41aebb19bb25400d827b"},{"type":"Edge","source_node_id":"70d3c365c13145e091a12dc5b10de86e","target_node_id":"ecb7ec4f0ecb4ca3b19fdc6023d885c1","branch_id":"99186ba9f155420f9319b70f913c4114","id":"7669cb31728c436bb3a34c25070a6572","name":"99186ba9f155420f9319b70f913c4114"},{"type":"Edge","source_node_id":"ecb7ec4f0ecb4ca3b19fdc6023d885c1","target_node_id":"6453c12c82cb4b17a1fbeb39deba01a6","branch_id":"b40a581140904069a6f40ab72a408e1a","id":"1d461d123d754d36ac948cb3d34f4796","name":"b40a581140904069a6f40ab72a408e1a"},{"type":"Edge","source_node_id":"ecb7ec4f0ecb4ca3b19fdc6023d885c1","target_node_id":"7eb9c5d44ae74b898dadb1e2163f6e6b","branch_id":"5636e37d80944a6e8c052e283d4defb1","id":"f7a14c0fb7154067ae3a506582ac465a","name":"5636e37d80944a6e8c052e283d4defb1"},{"type":"Edge","source_node_id":"7eb9c5d44ae74b898dadb1e2163f6e6b","target_node_id":"5a0a41c0a7e2413f9933c50a27891af4","id":"4475f9a5c29c4650b40ff1404b08f9cc"},{"type":"Edge","source_node_id":"5a0a41c0a7e2413f9933c50a27891af4","target_node_id":"00fb592cfc874adcb98f2093308c66c4","id":"edd01d35cbe84fe480117a98dfd773c0"},{"type":"Edge","source_node_id":"00fb592cfc874adcb98f2093308c66c4","target_node_id":"0d9abaea1ab746c8a0b56f7c7f921f08","branch_id":"42f44168421a44deba4b0eb77e216aae","id":"e4d3a34ba5a9486d921f1c0add8cf29c","name":"42f44168421a44deba4b0eb77e216aae"},{"type":"Edge","source_node_id":"0d9abaea1ab746c8a0b56f7c7f921f08","target_node_id":"5a0a41c0a7e2413f9933c50a27891af4","id":"2e245a69d57246dba629e553647b1eb2"},{"type":"Edge","source_node_id":"00fb592cfc874adcb98f2093308c66c4","target_node_id":"6828be18cfb040438e7a1fe30123021c","branch_id":"23c1d4bc5fd749648ed75addf6cb4dbb","id":"056e3cb0cf624ab9b3a29d06d056a912","name":"23c1d4bc5fd749648ed75addf6cb4dbb"},{"type":"Edge","source_node_id":"6828be18cfb040438e7a1fe30123021c","target_node_id":"5a0a41c0a7e2413f9933c50a27891af4","id":"26f753a3093842e490ff6cde01dcecb5"},{"type":"Edge","source_node_id":"00fb592cfc874adcb98f2093308c66c4","target_node_id":"f937a07fbcc3438b8c0211a393babc23","branch_id":"d1c015e3df1343e699134882bb5f8ddb","id":"68fdc9e4ca92431996222607d52ca21e","name":"d1c015e3df1343e699134882bb5f8ddb"},{"type":"Edge","source_node_id":"00fb592cfc874adcb98f2093308c66c4","target_node_id":"7eb9c5d44ae74b898dadb1e2163f6e6b","branch_id":"d3f261f5c4bd41adaecbc315c509455a","id":"be492cc570a04cb199d3ffb71fe10569","name":"d3f261f5c4bd41adaecbc315c509455a"},{"type":"Edge","source_node_id":"6453c12c82cb4b17a1fbeb39deba01a6","target_node_id":"f937a07fbcc3438b8c0211a393babc23","id":"b3be5827e3474bf09d111f1680423065"},{"type":"Edge","source_node_id":"f937a07fbcc3438b8c0211a393babc23","target_node_id":"c66022ff4ef9481088af86b3b4316b39","id":"836d0209b0bc4434bd93c135924c77fe"},{"type":"Edge","source_node_id":"d85fbfc28c194ceaaafe79f24a8467a7","target_node_id":"3da5cbd4bba8463b94fec99c0abeac0d","branch_id":"e0c80b2a935546d6afc3c394e1ebddaa","id":"c6b0a74967f24fc3b9a6fde8b284ef68","name":"e0c80b2a935546d6afc3c394e1ebddaa"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"itemJSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"f537cf7a08994bff8315575ab77270b7","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"itemName","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"e6c20f086a7a40d6ad91ac2e879e7bd2","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"record_id","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"297e668bda4f44bd90a01aa371b51767","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"record_table","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"3c3fb996ea174528aed508271c1a4a4c","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"qIndex","value":{"type":"String","type":"String","mode":"string","value":"-1"},"list":false,"id":"aa9a866d529744fe90aef3fa859fd98d","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"limit","value":{"type":"String","type":"String","mode":"string","value":"7"},"list":false,"id":"a63ed0981e394cd4880645b74f4f70e8","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"count","value":{"type":"String","type":"String","mode":"string","value":"0"},"list":false,"id":"f340f7dac462401c9625ac97fb2f6a5a","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"index","value":{"type":"String","type":"String","mode":"string","value":"0"},"list":false,"id":"7535644a66fc4e368c652d4dbc0a7b11","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"validation_message","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"2116c701d98b4a179b6800a0faf31513","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"request_for","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"},"list":false,"id":"f9deb31691d34e228af404060fa004fb","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"canView","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return false;\n})()\n"},"list":false,"id":"1ce070acc01a4e72a656f13e2cf40fe6","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"unsupportedVarTypes","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '7,14,15,17,21,23,25,29,30';\n})()\n"},"list":false,"id":"0dbead43c1e14ea4b39ff81e2039b052","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"media_links_form_attachment","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"c828e7659b144616b0d69b3f998ecfe2","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchVariable","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"fb8be771f1c2465a9ddce7f012353b2d","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchContext","value":{"type":"String","type":"String","mode":"string","value":"2821675a5b30130070e4492c11f91a89"},"list":false,"id":"174e0379705d4a579b24d7cfa9889237","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchResultLimit","value":{"type":"String","type":"String","mode":"string","value":"3"},"list":false,"id":"d197d71b0ae14318b52a35f6af25902c","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchIndex","value":{"type":"String","type":"String","mode":"string","value":"0"},"list":false,"id":"601b930452384932967a4f44aa40e931","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchResultJsonString","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"d1c52f50866644b3b74ab462d14b19e9","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchResultCount","value":{"type":"String","type":"String","mode":"string","value":"0"},"list":false,"id":"0ca91865ae6c4419a5b8814fcde32270","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"no_records_found","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    /* return 'a default value'; */\n    return \"false\";\n})()\n"},"list":false,"id":"1f65a84371e44fd09e4640d42de30a19","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"VariableDto","type":"String","name":"catalog_item_id","list":false,"id":"db7b8b4c6f2148c4ac190dc68b515988","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"True/False","type":"True/False","id":"2eec97e171694cf5a52a2449954fb307","name":"proceed","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"d21e775679e14ac6ba8f3c71e521fae9","name":"submit_producer","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"b33e500830b44d12a49777642a3c37f5","name":"order_item","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Date/Time","type":"Date/Time","mode":"date","id":"34ad30062bbf4d9e8f36fd72def41910","name":"question_date","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"question_text","list":false,"id":"56275a59ba5640deadbe70a2fd4ee8a7","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[],"id":"8f8129ddd8a247a49082f9a0dc5267a4","name":"question_reference","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""},{"type":"Reference","type":"Reference","table":"sys_user","id":"75182baea4714952a03f9453d7b0bfa5","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Choice","type":"Choice","choices":[],"id":"7fbe73e26ec14d9487de4b1428ad09b2","name":"question_choice","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""},{"type":"Date/Time","type":"Date/Time","mode":"date_time","id":"2eceae29bdbb48a9bfd3834cdfa3d005","name":"question_date_time","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Choice","type":"Choice","choices":[],"id":"577429508dc844a1b29ca36a705ad6a0","name":"question_requested_for","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""},{"type":"VariableDto","type":"String","name":"search_requested_for","list":false,"id":"2d78ae6b99284af099cd9e9ded5e9a22","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"True/False","type":"True/False","id":"a9b30e728ccd4cf98c1ff5659106305d","name":"request_for_another_user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"question_email","list":false,"id":"4a27aaa8e7304198b242baa8b7a4b187","formatType":"33513d135b1200101f254d3ba881c7d5","validationScript":"","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"question_ip_address","list":false,"id":"0b61462465db4c74af5e8c68ade728e6","formatType":"a860c5945b2200101f254d3ba881c7df","validationScript":"","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"question_url","list":false,"id":"1a515f29c361490b880a95cf10963479","formatType":"77d8b2935b9200101f254d3ba881c7b9","validationScript":"","secure":false,"sensitive":false},{"type":"True/False","type":"True/False","id":"b3af740c1d534f119807f8b96398b18f","name":"add_attachment","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"File","type":"File","id":"afdf7764a3d6442095b9b9ca14f2a723","name":"upload_attachment","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"9e6ef42c35d64f5b80f388522c124b23","name":"add_more","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"File","type":"File","id":"adff9847d5e546aab570210ed6a15a72","name":"question_attachment","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"execute_contextual_search","list":false,"id":"fb51e44b9283461a84e41ab8d0057599","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"confirm_catalog_item","list":false,"id":"ab0756fb4a364d878aaf062d02a425fc","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"True/False","type":"True/False","id":"baf60aaef7bd41908441243355dab52f","name":"did_articles_help","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"a297407c1ec9479fac64e066b2f3af81","name":"proceed_with_default","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"230c8cd35799480eacd9a1dd3c4c7e61","name":"show_end_state_card","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false,"list":false},{"type":"Choice","type":"Choice","choices":[],"id":"13fe918fc2db4a89833ec7d629e5c901","name":"question_choice_other_channels","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""},{"type":"VariableDto","type":"String","name":"search_reference","list":false,"id":"600c7170ecad46a19321bdffc2215d17","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[],"id":"db8bc56dd63948a5b39fd78a8b716c34","name":"question_reference_other_channels","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"6ead8e780f603200cd674f8ce1050ed1","library-usage":{"type":"Library","input-parameters":[{"name":"catalog_item_id","label":"catalog_item_id","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"db7b8b4c6f2148c4ac190dc68b515988","type":"String","hint":""},{"name":"execute_contextual_search","label":"execute_contextual_search","default-value":"\"false\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"fb51e44b9283461a84e41ab8d0057599","type":"String","hint":""},{"name":"confirm_catalog_item","label":"confirm_catalog_item","default-value":"\"true\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"ab0756fb4a364d878aaf062d02a425fc","type":"String","hint":""},{"name":"show_end_state_card","label":"show_end_state_card","default-value":"false","required":false,"metadata":{"type":"True/False","list":false,"items":[],"use_items":false},"id":"230c8cd35799480eacd9a1dd3c4c7e61","type":"True/False"}],"return-values-mapping":[{"name":"record_id","label":"record_id","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.record_id}}"}},{"name":"record_table","label":"record_table","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.record_table}}"}},{"name":"variables","label":"variables","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (!itemJson.variables)\n        return '';\n    var variablesObj = {};\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n    }\n    return JSON.stringify(variablesObj);\n})()\n"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"854dab3253b2d510b269ddeeff7b12e7","name":"Submit a Request","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"readOnly":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>854dab3253b2d510b269ddeeff7b12e7</design_topic_id>
        <graph>{
  "graph_api_version": "1.0.41",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "836b617db27842c6bc58d0c041d7366d": {
          "id": "836b617db27842c6bc58d0c041d7366d",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "name": "catalog_item_id",
              "value": "",
              "id": "db7b8b4c6f2148c4ac190dc68b515988",
              "disabled": true,
              "referenced": true,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "execute_contextual_search",
              "value": "false",
              "id": "fb51e44b9283461a84e41ab8d0057599",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "name": "confirm_catalog_item",
              "value": "true",
              "id": "ab0756fb4a364d878aaf062d02a425fc",
              "referenced": false,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "type": "True/False",
              "value": "false",
              "id": "230c8cd35799480eacd9a1dd3c4c7e61",
              "name": "show_end_state_card",
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "db7b8b4c6f2148c4ac190dc68b515988",
            "fb51e44b9283461a84e41ab8d0057599",
            "ab0756fb4a364d878aaf062d02a425fc",
            "230c8cd35799480eacd9a1dd3c4c7e61"
          ]
        },
        "ee9a37b689ac4ea0aeba818bda2e7b1c": {
          "id": "ee9a37b689ac4ea0aeba818bda2e7b1c",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "value": "",
            "mode": "simple"
          },
          "outputVariables": [
            {
              "key": "record_id",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_id}}",
                        "displayValue": "vaVars➛record_id"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true
            },
            {
              "key": "record_table",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_table}}",
                        "displayValue": "vaVars➛record_table"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true
            },
            {
              "key": "variables",
              "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (!itemJson.variables)\n        return '';\n    var variablesObj = {};\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n    }\n    return JSON.stringify(variablesObj);\n})()\n",
              "mode": "script",
              "disabled": true
            }
          ]
        },
        "25b5773f1b5148d18fc6de6045430453": {
          "id": "25b5773f1b5148d18fc6de6045430453",
          "name": "Set Selected Item",
          "script": "(function execute() {\n    var itemId = vaInputs.catalog_item_id.getValue();\n    var itemJSON = new sn_sc.CatalogConversationHelper().getItem(itemId);\n    vaVars.itemJSON = JSON.stringify(itemJSON);\n    vaVars.itemName = itemJSON.name;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "988fa2d475a7444f834dbffe82622620": {
          "id": "988fa2d475a7444f834dbffe82622620",
          "stepType": "TextOutput",
          "name": "Item Description",
          "value": [
            {
              "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var response = gs.getMessage(\"Here are some more details about {0}\", vaVars.itemName);\n    if (itemJson.description) \n        return response + itemJson.description;\n\n    return gs.getMessage(\"Selected {0}\", vaVars.itemName);\n})()\n",
              "mode": "script"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "e9a6888894644a5bbfaf0abd1db55696": {
          "id": "e9a6888894644a5bbfaf0abd1db55696",
          "stepType": "Prompt",
          "name": "Proceed",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Should I proceed with this?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "2eec97e171694cf5a52a2449954fb307",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "1cbce907a4dd403e810c925529bf76d0": {
          "id": "1cbce907a4dd403e810c925529bf76d0",
          "stepType": "Decision",
          "name": "Decision"
        },
        "c134ea9891d1473c9efa82012895f9d5": {
          "id": "c134ea9891d1473c9efa82012895f9d5",
          "stepType": "Decision",
          "name": "Decision"
        },
        "86c1111d62394e3a972157b9443972d7": {
          "id": "86c1111d62394e3a972157b9443972d7",
          "stepType": "Decision",
          "name": "Decision"
        },
        "8b7e3d3556ff49c69ad2e783d2b5c05e": {
          "id": "8b7e3d3556ff49c69ad2e783d2b5c05e",
          "stepType": "TextOutput",
          "name": "Start Questions",
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "OK, let's finish up your request."
                    }
                  ]
                }
              ],
              "mode": "simple"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "e9eac585d26a4f3880d55b75518344db": {
          "id": "e9eac585d26a4f3880d55b75518344db",
          "stepType": "Decision",
          "name": "Decision"
        },
        "988e6d3f9c1a43a7841e5ef99777733b": {
          "id": "988e6d3f9c1a43a7841e5ef99777733b",
          "stepType": "Decision",
          "name": "Decision"
        },
        "5ba7e3b605e545e3b07c22941e71faf3": {
          "id": "5ba7e3b605e545e3b07c22941e71faf3",
          "stepType": "Prompt",
          "name": "Submit Producer",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Alright, you're all set. Shall I submit this request?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "d21e775679e14ac6ba8f3c71e521fae9",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "1330750b00104280938055d31e8cb68e": {
          "id": "1330750b00104280938055d31e8cb68e",
          "stepType": "Decision",
          "name": "Decision"
        },
        "c74e0b99088f4651b434e1e875b8f0b1": {
          "id": "c74e0b99088f4651b434e1e875b8f0b1",
          "name": "Insert the Record",
          "script": "(function execute() {\n   var itemJson = JSON.parse(vaVars.itemJSON);\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n   var reqObject = {\n       \"sysparm_id\" : itemJson.sys_id,\n       \"sysparm_action\" : 'execute_producer',\n        \"variables\" : variablesObj,\n        \"engagement_channel\" : 'va'\n   }\n   var response = new sn_sc.CatItem(itemJson.sys_id).submitProducer(reqObject);\n   if (response) {\n       vaVars.record_id = response.sys_id;\n       vaVars.record_table = response.table;\n       // add attachment to record\n       var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n       for (var i in mediaLinksFormAttachment)\n           vaSystem.attachToRecord(mediaLinksFormAttachment[i], response.table, response.sys_id);\n\n       // move attachment variable to record\n       var gr = new GlideRecord('sys_attachment');\n       gr.addQuery('sys_id', 'IN' , attachmentIds);\n       gr.query();\n       while (gr.next()) {\n           gr.setValue('table_name', 'ZZ_YY' + response.table);\n           gr.setValue('table_sys_id', response.sys_id);\n           gr.update();\n       }\n   }\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "ce3ba3071d3344e6834e81789558990b": {
          "id": "ce3ba3071d3344e6834e81789558990b",
          "stepType": "Prompt",
          "name": "Order Item",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Alright, you're all set. Shall I submit this request?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "b33e500830b44d12a49777642a3c37f5",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "171f5fc4b90b423ea2b1a90cb79e80bb": {
          "id": "171f5fc4b90b423ea2b1a90cb79e80bb",
          "stepType": "Decision",
          "name": "Decision"
        },
        "167c349716f2466482ed8ac660ce5b77": {
          "id": "167c349716f2466482ed8ac660ce5b77",
          "name": "Checkout Cart",
          "script": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var cartname = \"vacart_\" + gs.generateGUID();\n    var cartObj = new sn_sc.CartJS(cartname);\n    cartObj.setRequestedFor(vaVars.request_for);\n    cartObj.setEngagementChannel('va');\n\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n        \n\n    var reqObj = {\n        \"sysparm_id\" : itemJson.sys_id,\n        \"variables\" : variablesObj\n    };\n    cartObj.addToCart(reqObj);\n    var requestResponse = cartObj.checkoutCart(true);\n    var requestGr = new GlideRecord('sc_request');\n    if (requestGr.get(requestResponse.request_id)) {\n        var reqItemGr = new GlideRecord('sc_req_item');\n        reqItemGr.addQuery(\"request\", requestResponse.request_id);\n        reqItemGr.query();\n        if (reqItemGr.next()) {\n            vaVars.record_id = reqItemGr.getUniqueValue();\n            vaVars.record_table = 'sc_req_item';\n            // add attachment to record\n            var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n            for (var i in mediaLinksFormAttachment)\n                vaSystem.attachToRecord(mediaLinksFormAttachment[i], vaVars.record_table, vaVars.record_id);\n\n        }\n        // move attachment variable to record\n        var gr = new GlideRecord('sys_attachment');\n        gr.addQuery('sys_id', 'IN' , attachmentIds);\n        gr.query();\n        while (gr.next()) {\n            gr.setValue('table_name', 'ZZ_YY' + vaVars.record_table);\n            gr.setValue('table_sys_id', vaVars.record_id);\n            gr.update();\n        }\n    }\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "70d3c365c13145e091a12dc5b10de86e": {
          "id": "70d3c365c13145e091a12dc5b10de86e",
          "stepType": "Decision",
          "name": "Decision"
        },
        "6f33efaa0e5b4679a117ea6c037aa577": {
          "id": "6f33efaa0e5b4679a117ea6c037aa577",
          "stepType": "Prompt",
          "name": "Question Date",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "34ad30062bbf4d9e8f36fd72def41910",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "c66022ff4ef9481088af86b3b4316b39": {
          "id": "c66022ff4ef9481088af86b3b4316b39",
          "name": "Post Response",
          "script": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    vaVars.validation_message = \"\";\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var type = quesJson.type;\n    var vaFieldValidator = new global.VAFieldValidator();\n    // If user doesn't want to proceed with the selected value and skips the question, the variable would be set to \"\"\n    var proceedWithDefaultValue = vaInputs.proceed_with_default.getValue();\n    switch (type) {\n        case 2:\n        case 6:\n        case 16:\n            var ans = vaInputs.question_text.getValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            if (ans.trim().length === 0 &amp;&amp; itemJson.variables[vaVars.qIndex].mandatory) {\n                vaVars.validation_message = gs.getMessage('You must answer this question');\n                break;\n            }\n            if (type === 2) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n                break;\n            }\n            var q = GlideappQuestion.getQuestion(itemJson.variables[vaVars.qIndex].sys_id);\n            var validresponse = q.validateRegex(ans);\n            if (validresponse) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n            } else if (!validresponse)\n                vaVars.validation_message = q.getValidationMessage();\n            break;\n        case 9:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date = \"\";\n            break;\n        case 10:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date_time.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date_time = \"\";\n            break;\n        case 8:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_reference)\n                ans = vaInputs.question_reference.getValue();\n\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_reference = \"\";\n            break;\n        case 1:\n        case 3:\n        case 4:\n        case 5:\n        case 18:\n        case 22:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_choice) {\n                ans = vaInputs.question_choice.getValue();\n                ans = ans == 'no_data' ? '' : ans;\n            }\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_choice = \"\";\n            break;\n        case 26:\n            var ans = vaInputs.question_email.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_email.getValue() || ans == \"\" || vaFieldValidator.validateEmailAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_email = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid email address\");\n            break;\n        case 27:\n            var ans = vaInputs.question_url.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_url.getValue() || ans == \"\" || vaFieldValidator.validateURL(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_url = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid URL\");\n            break;\n        case 28:\n            var ans = vaInputs.question_ip_address.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_ip_address.getValue() || ans == \"\" || vaFieldValidator.validateIPAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_ip_address = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid IP Address\");\n            break;\n        case 31:\n            var ans = quesJson.default_value + '';\n            if (quesJson.default_value &amp;&amp; proceedWithDefaultValue)\n                vaVars.request_for = ans;\n            else if (vaVars.request_for)\n                ans = vaVars.request_for;\n            itemJson.variables[vaVars.qIndex].value = ans;\n    }\n    if (!vaVars.request_for)\n        vaVars.request_for = gs.getUserID() + '';\n    var executeDataLookup = false;\n    var executeDynamicValue = false;\n    if (quesJson.data_lookup_ids &amp;&amp; quesJson.data_lookup_ids.length != 0)\n        executeDataLookup = true;\n    if (itemJson.dynamic_value_variable_config &amp;&amp; itemJson.dynamic_value_variable_config[quesJson.sys_id] &amp;&amp; itemJson.dynamic_value_variable_config[quesJson.sys_id].length != 0)\n        executeDynamicValue = true;\n    if (executeDataLookup || executeDynamicValue) {\n        var helper = new sn_sc.CatalogConversationHelper();\n        vaVars.itemJSON = JSON.stringify(helper.executeVariableChangeHandlers(itemJson, quesJson.sys_id, executeDataLookup, executeDynamicValue));\n    } else\n        vaVars.itemJSON = JSON.stringify(itemJson);\n\n// resetting the value of proceed with default incase validation fails\n   if (vaVars.validation_message.length !== 0)\n       vaInputs.proceed_with_default = false;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "050914a1467e42bb91e6f8f0ef7da968": {
          "id": "050914a1467e42bb91e6f8f0ef7da968",
          "stepType": "Decision",
          "name": "Decision"
        },
        "3a97a25793414ebf9115b7a2ac39428f": {
          "id": "3a97a25793414ebf9115b7a2ac39428f",
          "stepType": "ScriptOutput",
          "name": "Validation Message",
          "output_type": "single_part",
          "script": "(function execute() {\n      var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       return singleOutMsg;\n})()",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "5ab80eb6d2e44f0cb862fa2f4c8a8691": {
          "id": "5ab80eb6d2e44f0cb862fa2f4c8a8691",
          "stepType": "Prompt",
          "name": "Question Text",
          "prompt": {
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "56275a59ba5640deadbe70a2fd4ee8a7",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "6453c12c82cb4b17a1fbeb39deba01a6": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Reference",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "8f8129ddd8a247a49082f9a0dc5267a4",
          "id": "6453c12c82cb4b17a1fbeb39deba01a6",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No records found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "30e1f929914b4b7281419a754bec234e": {
          "id": "30e1f929914b4b7281419a754bec234e",
          "name": "Set Record ID to -1",
          "script": "(function execute() {\n    vaVars.record_id = \"-1\";\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "4c6af8c221ba4a99baf6be82b3926f46": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Choice",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "7fbe73e26ec14d9487de4b1428ad09b2",
          "id": "4c6af8c221ba4a99baf6be82b3926f46",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    options = choices;\n    return options;    \n})()",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "No records found"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    options = choices;\n    return options;    \n})()",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '') \n        return true;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    return false;\n})();\n"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "820e4cbca8ad4f69b564dae363950c56": {
          "id": "820e4cbca8ad4f69b564dae363950c56",
          "stepType": "Prompt",
          "name": "Question Date Time",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "2eceae29bdbb48a9bfd3834cdfa3d005",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "cde34d31b08b4178b8472d7b092c50e9": {
          "id": "cde34d31b08b4178b8472d7b092c50e9",
          "stepType": "TextOutput",
          "name": "Question Label",
          "value": [
            {
              "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
              "mode": "script"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "2aad8e51a2b84ced823f2aa28c1e9373": {
          "id": "2aad8e51a2b84ced823f2aa28c1e9373",
          "stepType": "TextOutput",
          "name": "Container Start Question",
          "value": [
            {
              "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
              "mode": "script"
            }
          ],
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.display_title)\n        return true;\n})()\n"
          },
          "secure": false
        },
        "6c8059d4243f40bba1e4e7f037191d28": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Requested For",
          "prompt": {
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "577429508dc844a1b29ca36a705ad6a0",
          "id": "6c8059d4243f40bba1e4e7f037191d28",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "I couldn't find a user with that name"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "35ded4f6a1c44e88ae43408407b316a7": {
          "id": "35ded4f6a1c44e88ae43408407b316a7",
          "stepType": "Prompt",
          "name": "Search Requested For",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Who should I set it to? "
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "2d78ae6b99284af099cd9e9ded5e9a22",
          "skippable": {
            "mode": "query",
            "value": ""
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "ec0b34f7ff00438c864eacc3bc6fab68": {
          "id": "ec0b34f7ff00438c864eacc3bc6fab68",
          "stepType": "Decision",
          "name": "Decision"
        },
        "340b2646ef0e493d8548bf52bced973a": {
          "id": "340b2646ef0e493d8548bf52bced973a",
          "name": "Requested For Next Page",
          "script": "(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "61e06165adf54ebe9fafdcf813b08ced": {
          "id": "61e06165adf54ebe9fafdcf813b08ced",
          "name": "Is Delegation Allowed",
          "script": "(function execute() {\n    var item = new sn_sc.CatItem(JSON.parse(vaVars.itemJSON).sys_id);\n    vaVars.request_for = vaInputs.question_requested_for.getValue() + '';\n    vaVars.canView = item.isDelegationAllowed(vaVars.request_for);\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "9ae8f87c78f342408154a342452a151a": {
          "id": "9ae8f87c78f342408154a342452a151a",
          "stepType": "Decision",
          "name": "Decision"
        },
        "c1d2b4d8ae83445b9c421b1ec714cf14": {
          "id": "c1d2b4d8ae83445b9c421b1ec714cf14",
          "name": "Requested For Previous Page",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "3e3216ff4796480687c66a71f0eb52ae": {
          "id": "3e3216ff4796480687c66a71f0eb52ae",
          "stepType": "Prompt",
          "name": "Request For Another User",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "The selected user does not have access to this item. Do you want to request for  someone else?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "a9b30e728ccd4cf98c1ff5659106305d",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "e282aa115dc64489a3dc8a155443f391": {
          "id": "e282aa115dc64489a3dc8a155443f391",
          "stepType": "Decision",
          "name": "Decision"
        },
        "a9b895be6b67455882cfb6b3a0c3cd6e": {
          "id": "a9b895be6b67455882cfb6b3a0c3cd6e",
          "stepType": "Decision",
          "name": "Decision"
        },
        "d5e86ab12d0245509a9e6baa63794a59": {
          "id": "d5e86ab12d0245509a9e6baa63794a59",
          "name": "Run OnChange Policies",
          "script": "(function execute() {\n   vaVars.itemJSON = JSON.stringify(new sn_sc.CatalogConversationHelper().runChangePolicies(JSON.parse(vaVars.itemJSON)))\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "6c5e06ab7b1f4c9f8dfbfd87c820a86f": {
          "id": "6c5e06ab7b1f4c9f8dfbfd87c820a86f",
          "stepType": "Prompt",
          "name": "Question Email",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "4a27aaa8e7304198b242baa8b7a4b187",
          "inputType": {
            "format": "33513d135b1200101f254d3ba881c7d5",
            "script": ""
          }
        },
        "109d6fcf686d44a98920f2ed88245fa7": {
          "id": "109d6fcf686d44a98920f2ed88245fa7",
          "stepType": "Prompt",
          "name": "Question IP Address",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "0b61462465db4c74af5e8c68ade728e6",
          "inputType": {
            "format": "a860c5945b2200101f254d3ba881c7df",
            "script": ""
          }
        },
        "6030b829e1f44b02ae1690b327e41ccb": {
          "id": "6030b829e1f44b02ae1690b327e41ccb",
          "stepType": "Prompt",
          "name": "Question URL",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "1a515f29c361490b880a95cf10963479",
          "inputType": {
            "format": "77d8b2935b9200101f254d3ba881c7b9",
            "script": ""
          }
        },
        "72d088e21d5f48f7b26f7459bf28ce5d": {
          "id": "72d088e21d5f48f7b26f7459bf28ce5d",
          "stepType": "Decision",
          "name": "Decision"
        },
        "30e70f25e08d4d34a9d687006f038264": {
          "id": "30e70f25e08d4d34a9d687006f038264",
          "stepType": "Prompt",
          "name": "Add Attachment",
          "prompt": {
            "value": "(function execute() {\n    return gs.getMessage('Add attachment?');\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment;\n})()\n"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "b3af740c1d534f119807f8b96398b18f"
        },
        "fc76f2655de24bc8beb958d3c87e1c33": {
          "id": "fc76f2655de24bc8beb958d3c87e1c33",
          "stepType": "Decision",
          "name": "Decision"
        },
        "320b1ad80e814d5abf63efcd37a7187b": {
          "id": "320b1ad80e814d5abf63efcd37a7187b",
          "stepType": "Prompt",
          "name": "Upload Attachment",
          "prompt": {
            "value": "(function execute() {\n    return gs.getMessage('Upload attachment');\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n    var addMore = false;\n    //when attachment is mandatory, to provide an option to skip add more \n    if (vaInputs.add_more &amp;&amp; vaInputs.add_more.getValue())\n        addMore = true;\n        \n    return !JSON.parse(vaVars.itemJSON).mandatory_attachment || addMore;\n})()"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "afdf7764a3d6442095b9b9ca14f2a723"
        },
        "8d55239a3ef54ccbbcaec023716f747d": {
          "id": "8d55239a3ef54ccbbcaec023716f747d",
          "name": "Add Media Links for Form Attachment",
          "script": "(function execute() {\n    if (!!vaVars.media_links_form_attachment)\n        vaVars.media_links_form_attachment = vaVars.media_links_form_attachment + ',' + vaInputs.upload_attachment.getValue();\n    else\n        vaVars.media_links_form_attachment = vaInputs.upload_attachment.getValue();\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "08c0349328e743b78153ecf79d34a325": {
          "id": "08c0349328e743b78153ecf79d34a325",
          "stepType": "Prompt",
          "name": "Add More",
          "prompt": {
            "value": "(function execute() {\n    return gs.getMessage('Add more?');\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "9e6ef42c35d64f5b80f388522c124b23"
        },
        "907966ec64cf4ecc923673986a037b06": {
          "id": "907966ec64cf4ecc923673986a037b06",
          "stepType": "Decision",
          "name": "Decision"
        },
        "a441c1254f4448d3b4a1132c28e4edfe": {
          "id": "a441c1254f4448d3b4a1132c28e4edfe",
          "stepType": "Prompt",
          "name": "Question Attachment",
          "prompt": {
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "adff9847d5e546aab570210ed6a15a72"
        },
        "7848b0a8795143e792210e11e6d7ad76": {
          "id": "7848b0a8795143e792210e11e6d7ad76",
          "name": "Validate Attachment",
          "script": "(function execute() {\n    vaVars.validation_message = \"\";\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var vaUtils = new global.VAUtils();\n    var arr = vaInputs.question_attachment.getValue().split('/');\n    var mediaId = arr[arr.length - 1];\n    var gr = new GlideRecord('sys_cs_media');\n    gr.addQuery('media_id', mediaId);\n    gr.query();\n    if (gr.next()) {\n        var attachmentId = gr.getValue('sys_attachment_id');\n        var attachRef = new GlideRecord('sys_attachment');\n        if (attachRef.get(attachmentId)) {\n            var file = {\n                name: attachRef.getValue('file_name'),\n                size: attachRef.getValue('size_bytes')\n            };\n            var allowedExtensions = new Array();\n            if (quesJson.allow_extension)\n               allowedExtensions = quesJson.allow_extension.split(';');\n            var field = {\n                allowedExtensions: allowedExtensions,\n                allowedFileSize: quesJson.max_file_size\n            };\n            var result = vaUtils.validateAttachment(file, field);\n            if (result.type == 'success') {\n                quesJson.value = attachmentId;\n                vaVars.itemJSON = JSON.stringify(itemJson);\n                vaInputs.question_attachment.setValue('');\n            } else\n                vaVars.validation_message = result.message;\n        } else \n            vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n    } else \n        vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "question_attachmentISNOTEMPTY",
            "mode": "query"
          }
        },
        "bf93da351a324091923e73cc57d5b90f": {
          "id": "bf93da351a324091923e73cc57d5b90f",
          "stepType": "Decision",
          "name": "Decision"
        },
        "3a9074e343be4d04b92488f7cff92805": {
          "id": "3a9074e343be4d04b92488f7cff92805",
          "stepType": "ScriptOutput",
          "name": "Validation Message",
          "output_type": "single_part",
          "script": "(function execute() {\n     var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       vaVars.validation_message = \"\";\n       return singleOutMsg;\n})()\n",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "34b75d32b7e947c9be750c493569c728": {
          "id": "34b75d32b7e947c9be750c493569c728",
          "stepType": "Decision",
          "name": "Is Record Producer"
        },
        "99ac7d5f2c8248cbbdbbe867268e46f0": {
          "id": "99ac7d5f2c8248cbbdbbe867268e46f0",
          "stepType": "Decision",
          "name": "Execute Contextual Search"
        },
        "8acbf8baa8514b8891d2ea5d7365c299": {
          "id": "8acbf8baa8514b8891d2ea5d7365c299",
          "name": "Get Search Variable And Context",
          "script": "(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    if(gs.nil(vaVars.contextualSearchVariable)) {\n        var searchConfig = contextualSearch.getContextualSearchVariableAndContext(vaInputs.catalog_item_id);\n        vaVars.contextualSearchVariable = searchConfig.searchVariable;\n        vaVars.contextualSearchContext = searchConfig.context;\n    }\n    return;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "mode": "query",
            "value": ""
          }
        },
        "6d4a3349910b445bafa32623a0ad0ebc": {
          "id": "6d4a3349910b445bafa32623a0ad0ebc",
          "stepType": "Decision",
          "name": "Contextual Search Variable ?"
        },
        "8f387c4cfd93437a85f65d9afcf5a1e9": {
          "id": "8f387c4cfd93437a85f65d9afcf5a1e9",
          "name": "Contextual Search",
          "script": "(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    var response = contextualSearch.search(\n        vaVars.contextualSearchContext, vaInputs.question_text.getValue(), ''\n    );\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        return;\n    }  \n    var relevantSearchResults = contextualSearch.processGeneralResults(response, 20, -2);\n    vaVars.contextualSearchResultCount = relevantSearchResults.length;\n    vaVars.contextualSearchResultJsonString = JSON.stringify(relevantSearchResults);\n    vaVars.contextualSearchIndex = 0;\n    return;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "e429f41f148b49fcac66f5350abea502": {
          "id": "e429f41f148b49fcac66f5350abea502",
          "stepType": "Decision",
          "name": "Did the search return results ?"
        },
        "af35d1b18d92406a87e2b9b8f911fa7e": {
          "id": "af35d1b18d92406a87e2b9b8f911fa7e",
          "stepType": "LinkOutput",
          "name": "Display multi-link",
          "url": {
            "mode": "simple",
            "value": ""
          },
          "label": {
            "mode": "simple",
            "value": ""
          },
          "header": {
            "mode": "simple",
            "value": ""
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "linkType": "multiple",
          "introMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "I found some information that might help you:"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "listOfLinks": "(function execute(header) {\n\tvar contextualSearch = new global.VAGlobalContextualSearchUtil();\n\tvar variables = {\n\t\tlimit: vaVars.contextualSearchResultLimit,\n\t\tindex: vaVars.contextualSearchIndex,\n\t\tsearch_result_json_string: vaVars.contextualSearchResultJsonString,\n\t\tportal: ''\n\t}\n\tvar groupedLinksOutMsg = contextualSearch.getLinks(header, variables);\n\treturn groupedLinksOutMsg;\n})(header)\n"
        },
        "0a8b35bbdea846d79548d9ff0d332b06": {
          "id": "0a8b35bbdea846d79548d9ff0d332b06",
          "stepType": "Decision",
          "name": "Did Articles Help ?"
        },
        "344ee29e07d74d0da33b25ab45c5c4a5": {
          "id": "344ee29e07d74d0da33b25ab45c5c4a5",
          "stepType": "Prompt",
          "name": "Did Articles Help",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Did any of this information resolve your issue?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "baf60aaef7bd41908441243355dab52f"
        },
        "a4b0635009ad47188dd483fd7ad10456": {
          "id": "a4b0635009ad47188dd483fd7ad10456",
          "stepType": "Decision",
          "name": "Confirmation Required ?"
        },
        "ee726de82854420bb1f700445b8238c4": {
          "id": "ee726de82854420bb1f700445b8238c4",
          "stepType": "Decision",
          "name": "Decision"
        },
        "fbb5c8c0c6a84510b1cd78841d0926f1": {
          "id": "fbb5c8c0c6a84510b1cd78841d0926f1",
          "stepType": "TextOutput",
          "name": "Catalog Builder Preview",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "Preview successful"
                    }
                  ]
                }
              ],
              "mode": "simple"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "de99d63b433e4d33967be27e06409a49": {
          "id": "de99d63b433e4d33967be27e06409a49",
          "stepType": "Decision",
          "name": "Decision"
        },
        "ed8365a67c6b48f7a6b6a945a883865b": {
          "id": "ed8365a67c6b48f7a6b6a945a883865b",
          "stepType": "TextOutput",
          "name": "Catalog Builder Preview Message",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "Since this was a preview, the request was not submitted"
                    }
                  ]
                }
              ],
              "mode": "simple"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "2a4467514c7f476dac1d3e1304137b6b": {
          "id": "2a4467514c7f476dac1d3e1304137b6b",
          "stepType": "Decision",
          "name": "Decision"
        },
        "2b7e0141fd494576b8aec8be7205dd3e": {
          "id": "2b7e0141fd494576b8aec8be7205dd3e",
          "stepType": "ScriptOutput",
          "name": "Question Rich Text Label",
          "output_type": "single_part",
          "script": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "27cdee4f92164c028813a6defe374f8c": {
          "id": "27cdee4f92164c028813a6defe374f8c",
          "stepType": "TextOutput",
          "name": "Default Value Acknowledgement ",
          "secure": false,
          "value": [
            {
              "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var renderedValue = quesJson.display_value ? quesJson.display_value : quesJson.value;\n    return gs.getMessage(\"&lt;b&gt;{0}&lt;/b&gt; was selected as the value for &lt;b&gt;{1}&lt;/b&gt;\", [renderedValue, quesJson.label])\n})()\n",
              "mode": "script"
            }
          ],
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.value ? true : false;\n})()\n"
          }
        },
        "61fae8ec10b1441ca8fb0c7a701bad91": {
          "id": "61fae8ec10b1441ca8fb0c7a701bad91",
          "stepType": "Prompt",
          "name": "Proceed with Default",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Do you want to proceed with this value?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.value ? true : false;\n})()\n"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "a297407c1ec9479fac64e066b2f3af81"
        },
        "d468fc4e201044fdaae32753b0c4f713": {
          "id": "d468fc4e201044fdaae32753b0c4f713",
          "stepType": "Decision",
          "name": "Decision"
        },
        "d85fbfc28c194ceaaafe79f24a8467a7": {
          "id": "d85fbfc28c194ceaaafe79f24a8467a7",
          "stepType": "Decision",
          "name": "Show end state card?"
        },
        "4fcfa436a7f74dd8a87e2a5764a13077": {
          "id": "4fcfa436a7f74dd8a87e2a5764a13077",
          "stepType": "Decision",
          "name": "Decision"
        },
        "03953adbfbd84821a0a205423447ba68": {
          "id": "03953adbfbd84821a0a205423447ba68",
          "stepType": "Decision",
          "name": "Messaging Channel"
        },
        "5cc5c5533600424aa9922f1d9c50f5f9": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Choice Other Channels",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '')\n        return true;\n    return false;\n})();\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "13fe918fc2db4a89833ec7d629e5c901",
          "id": "5cc5c5533600424aa9922f1d9c50f5f9",
          "mode": "external",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()",
          "metadataScript": "",
          "cardData": {},
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No records found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()",
            "mode": "external_script"
          },
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "f4fef2c6ac474657a01757e432764b96": {
          "id": "f4fef2c6ac474657a01757e432764b96",
          "stepType": "Decision",
          "name": "Decision"
        },
        "c74362c12bab4def8031dc1c228d3c2a": {
          "id": "c74362c12bab4def8031dc1c228d3c2a",
          "name": "Question Choice Prev Page",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "857a2ca17ace457ab77740c89ad2e7f0": {
          "id": "857a2ca17ace457ab77740c89ad2e7f0",
          "name": "Question Choice Next Page",
          "script": "(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "361cc379503b4181803e39a485557286": {
          "id": "361cc379503b4181803e39a485557286",
          "name": "Set Question Choice Value",
          "script": "(function execute() {\n    if(vaInputs.question_choice_other_channels) {\n        vaInputs.question_choice = vaInputs.question_choice_other_channels;\n        vaInputs.question_choice_other_channels = \"\";\n    }\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "ecb7ec4f0ecb4ca3b19fdc6023d885c1": {
          "id": "ecb7ec4f0ecb4ca3b19fdc6023d885c1",
          "stepType": "Decision",
          "name": "Messaging Channel"
        },
        "7eb9c5d44ae74b898dadb1e2163f6e6b": {
          "id": "7eb9c5d44ae74b898dadb1e2163f6e6b",
          "stepType": "Prompt",
          "name": "Search Reference",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter a value to search"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_reference_other_channels;\n})()\n"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "600c7170ecad46a19321bdffc2215d17",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "5a0a41c0a7e2413f9933c50a27891af4": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Reference Other Channels",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "db8bc56dd63948a5b39fd78a8b716c34",
          "id": "5a0a41c0a7e2413f9933c50a27891af4",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n",
          "metadataScript": "",
          "cardData": {},
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No records found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n",
            "mode": "external_script"
          },
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "00fb592cfc874adcb98f2093308c66c4": {
          "id": "00fb592cfc874adcb98f2093308c66c4",
          "stepType": "Decision",
          "name": "Decision"
        },
        "0d9abaea1ab746c8a0b56f7c7f921f08": {
          "id": "0d9abaea1ab746c8a0b56f7c7f921f08",
          "name": "Question Reference Prev Page",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "6828be18cfb040438e7a1fe30123021c": {
          "id": "6828be18cfb040438e7a1fe30123021c",
          "name": "Question Reference Next Page",
          "script": "(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "f937a07fbcc3438b8c0211a393babc23": {
          "id": "f937a07fbcc3438b8c0211a393babc23",
          "name": "Set Question Reference Value",
          "script": "(function execute() {\n    if(vaInputs.question_reference_other_channels) {\n        vaInputs.question_reference = vaInputs.question_reference_other_channels;\n        vaInputs.question_reference_other_channels = \"\";\n    }\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "3da5cbd4bba8463b94fec99c0abeac0d": {
          "id": "3da5cbd4bba8463b94fec99c0abeac0d",
          "stepType": "ReusableTopic",
          "name": "End state card",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "End state card for Catalog Request",
          "reusableTopicId": "0b01391550d30110fa9b861f7d83d7f6",
          "inputs": {
            "record_id": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_id}}",
                        "displayValue": "Script Variables➛record_id"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            },
            "record_table": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_table}}",
                        "displayValue": "Script Variables➛record_table"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "variableIds": [],
          "outputs": [],
          "outdatedNote": false,
          "loading": false
        }
      },
      "edges": [
        {
          "id": "196db0c3cc0241f39151b9d62dc34d76",
          "edgeType": "Edge",
          "source": "3da5cbd4bba8463b94fec99c0abeac0d",
          "target": "ee9a37b689ac4ea0aeba818bda2e7b1c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "cfee9218c2c041b4ba2982a8112fa2db",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "35ded4f6a1c44e88ae43408407b316a7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 31)\n        return true;\n})()\n"
          },
          "label": "Question Requested For"
        },
        {
          "id": "d57020c9102744cba06259b9c77f78e8",
          "edgeType": "Edge",
          "source": "c74e0b99088f4651b434e1e875b8f0b1",
          "target": "d85fbfc28c194ceaaafe79f24a8467a7",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "23f5a9e53a3b40d3a98ea82783e17b79",
          "edgeType": "Edge",
          "source": "a441c1254f4448d3b4a1132c28e4edfe",
          "target": "7848b0a8795143e792210e11e6d7ad76",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "3fe63cac1b504dca911b69e89c5dfc74",
          "edgeType": "Edge",
          "source": "8d55239a3ef54ccbbcaec023716f747d",
          "target": "08c0349328e743b78153ecf79d34a325",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d57763a6655748f7bdddae66640c3b74",
          "edgeType": "Branch",
          "source": "ec0b34f7ff00438c864eacc3bc6fab68",
          "target": "340b2646ef0e493d8548bf52bced973a",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'next';\n})()\n"
          },
          "label": "Requested For Next"
        },
        {
          "id": "5e64032302884b698662f57f173b6679",
          "edgeType": "Branch",
          "source": "988e6d3f9c1a43a7841e5ef99777733b",
          "target": "ce3ba3071d3344e6834e81789558990b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name !== 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"
          },
          "label": "Catalog Item"
        },
        {
          "id": "8161efd6d467459589cb7f3e884d4caf",
          "edgeType": "Edge",
          "source": "836b617db27842c6bc58d0c041d7366d",
          "target": "25b5773f1b5148d18fc6de6045430453",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "98db2d1e86a543e9a0877076e5d7ca15",
          "edgeType": "Edge",
          "source": "988fa2d475a7444f834dbffe82622620",
          "target": "e9a6888894644a5bbfaf0abd1db55696",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "4ee7f0eeef4543aba82dc87b288c951c",
          "edgeType": "Edge",
          "source": "e9a6888894644a5bbfaf0abd1db55696",
          "target": "1cbce907a4dd403e810c925529bf76d0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "629d84f0bdcd485fb0c353ae8cff4a3a",
          "edgeType": "Branch",
          "source": "1cbce907a4dd403e810c925529bf76d0",
          "target": "ee9a37b689ac4ea0aeba818bda2e7b1c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "proceed=false",
            "mode": "query"
          },
          "label": "No"
        },
        {
          "id": "1d6f030ad9b9432f9bd5e81a05cab7a5",
          "edgeType": "Branch",
          "source": "1cbce907a4dd403e810c925529bf76d0",
          "target": "c134ea9891d1473c9efa82012895f9d5",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "proceed=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "4bf829e853564cb4a11c9346fa90b920",
          "edgeType": "Branch",
          "source": "c134ea9891d1473c9efa82012895f9d5",
          "target": "86c1111d62394e3a972157b9443972d7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return JSON.parse(vaVars.itemJSON).va_support;\n})()"
          },
          "label": "Has VA Support"
        },
        {
          "id": "5f1f98822bdb4f66b0ef224f285a6c4a",
          "edgeType": "Branch",
          "source": "86c1111d62394e3a972157b9443972d7",
          "target": "e9eac585d26a4f3880d55b75518344db",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()\n"
          },
          "label": "Item with no variables"
        },
        {
          "id": "9d84f77aabcd476599e9c12107cbac87",
          "edgeType": "Branch",
          "source": "86c1111d62394e3a972157b9443972d7",
          "target": "8b7e3d3556ff49c69ad2e783d2b5c05e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return true;\n    }\n    //No variables  that we can show\n    return false;\n})()\n"
          },
          "label": "Item with variables"
        },
        {
          "id": "336ca989a42d473b97d49e21e7829f59",
          "edgeType": "Edge",
          "source": "8b7e3d3556ff49c69ad2e783d2b5c05e",
          "target": "e9eac585d26a4f3880d55b75518344db",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "85a0ed0bba594e9e96c9ebc05b4e15ef",
          "edgeType": "Branch",
          "source": "988e6d3f9c1a43a7841e5ef99777733b",
          "target": "5ba7e3b605e545e3b07c22941e71faf3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"
          },
          "label": "Record Producer"
        },
        {
          "id": "a68b9c8e1b2e4b59ae086eb64d31c01c",
          "edgeType": "Edge",
          "source": "5ba7e3b605e545e3b07c22941e71faf3",
          "target": "1330750b00104280938055d31e8cb68e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6e334471c0f342d889aed095e3bad742",
          "edgeType": "Branch",
          "source": "1330750b00104280938055d31e8cb68e",
          "target": "ee9a37b689ac4ea0aeba818bda2e7b1c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "submit_producer=",
            "mode": "query"
          },
          "label": "Don't Submit"
        },
        {
          "id": "0ba8b5b851a144148d0f4578ded5d087",
          "edgeType": "Edge",
          "source": "ce3ba3071d3344e6834e81789558990b",
          "target": "171f5fc4b90b423ea2b1a90cb79e80bb",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d77d8fb1962c4ea79f96eeb81aeacaff",
          "edgeType": "Branch",
          "source": "171f5fc4b90b423ea2b1a90cb79e80bb",
          "target": "ee9a37b689ac4ea0aeba818bda2e7b1c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "order_item=",
            "mode": "query"
          },
          "label": "Don't Order"
        },
        {
          "id": "1ccbc27b41134ea7a6346f57d6caf494",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "6f33efaa0e5b4679a117ea6c037aa577",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 9;\n})()\n"
          },
          "label": "Date Question"
        },
        {
          "id": "40927adc7bc64f5a80788770cf9c53e5",
          "edgeType": "Edge",
          "source": "6f33efaa0e5b4679a117ea6c037aa577",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7034a03c8f98441384678750d4c6bf01",
          "edgeType": "Edge",
          "source": "c66022ff4ef9481088af86b3b4316b39",
          "target": "050914a1467e42bb91e6f8f0ef7da968",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "752bbd006bbd4306bd329d3fa3ec1da5",
          "edgeType": "Branch",
          "source": "050914a1467e42bb91e6f8f0ef7da968",
          "target": "3a97a25793414ebf9115b7a2ac39428f",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"
          },
          "label": "Repeat Question"
        },
        {
          "id": "d63d0ca52f024f2abba1ed8652203b2a",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "5ab80eb6d2e44f0cb862fa2f4c8a8691",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"
          },
          "label": "Text Type Question"
        },
        {
          "id": "9edf60efd14b4ab28f15e7509a8f847e",
          "edgeType": "Branch",
          "source": "c134ea9891d1473c9efa82012895f9d5",
          "target": "30e1f929914b4b7281419a754bec234e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !JSON.parse(vaVars.itemJSON).va_support;\n})()"
          },
          "label": "No VA Support"
        },
        {
          "id": "c49c6dcff29840b08fe33cd32a7f144e",
          "edgeType": "Edge",
          "source": "30e1f929914b4b7281419a754bec234e",
          "target": "ee9a37b689ac4ea0aeba818bda2e7b1c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "601f210aae634ac59916bedd5effe459",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "820e4cbca8ad4f69b564dae363950c56",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 10;\n})()\n"
          },
          "label": "Date-Time Question"
        },
        {
          "id": "59d331d1d8a34b258eca7bfcfd8b5fbf",
          "edgeType": "Edge",
          "source": "820e4cbca8ad4f69b564dae363950c56",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1820fcf6344e4647b719eee511139cfe",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "cde34d31b08b4178b8472d7b092c50e9",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 11;\n})()"
          },
          "label": "Question Label"
        },
        {
          "id": "595905167eca448cac480da5b7d35a13",
          "edgeType": "Edge",
          "source": "cde34d31b08b4178b8472d7b092c50e9",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d5386ac3ce6249c7a663d873eee5c45f",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "2aad8e51a2b84ced823f2aa28c1e9373",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    if (type === 0 || type === 12 || type === 19 || type === 20 || type === 24)\n        return true;\n})()\n"
          },
          "label": "Container Or Break Questions"
        },
        {
          "id": "2ee14bec9ad74c049e0ddf396b96c28b",
          "edgeType": "Edge",
          "source": "2aad8e51a2b84ced823f2aa28c1e9373",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d040fb189e6e45bd80b1cc1aac52ff74",
          "edgeType": "Edge",
          "source": "35ded4f6a1c44e88ae43408407b316a7",
          "target": "6c8059d4243f40bba1e4e7f037191d28",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "05f8b9b52f484bf687950f80f4d4a6b9",
          "edgeType": "Edge",
          "source": "6c8059d4243f40bba1e4e7f037191d28",
          "target": "ec0b34f7ff00438c864eacc3bc6fab68",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1fed5ed12b944922a3858b19a3e99249",
          "edgeType": "Edge",
          "source": "340b2646ef0e493d8548bf52bced973a",
          "target": "6c8059d4243f40bba1e4e7f037191d28",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "a4eeeacba3744b5287598bd2f27320b0",
          "edgeType": "Branch",
          "source": "ec0b34f7ff00438c864eacc3bc6fab68",
          "target": "35ded4f6a1c44e88ae43408407b316a7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !vaInputs.question_requested_for.getValue() || vaInputs.question_requested_for.getValue() === 'search';\n})()\n"
          },
          "label": "Search Requested For"
        },
        {
          "id": "a57c45ebf604434cb3123886ef914223",
          "edgeType": "Branch",
          "source": "ec0b34f7ff00438c864eacc3bc6fab68",
          "target": "61e06165adf54ebe9fafdcf813b08ced",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_requested_for.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"
          },
          "label": "Requested For Chosen"
        },
        {
          "id": "497ca151ddd04ec885b30c177a374489",
          "edgeType": "Edge",
          "source": "61e06165adf54ebe9fafdcf813b08ced",
          "target": "9ae8f87c78f342408154a342452a151a",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7548e218c80a4bda8a6ab556b8fe4b3b",
          "edgeType": "Branch",
          "source": "9ae8f87c78f342408154a342452a151a",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.canView;\n})()\n"
          },
          "label": "Can View"
        },
        {
          "id": "a3d8f66cf51f4dc1b9f0a15fc33d599b",
          "edgeType": "Branch",
          "source": "ec0b34f7ff00438c864eacc3bc6fab68",
          "target": "c1d2b4d8ae83445b9c421b1ec714cf14",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'prev';\n})()\n"
          },
          "label": "Requested For Prev"
        },
        {
          "id": "e8731506a729429caab4954a19fd2b72",
          "edgeType": "Edge",
          "source": "c1d2b4d8ae83445b9c421b1ec714cf14",
          "target": "6c8059d4243f40bba1e4e7f037191d28",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b312fb9f6ef242718c78aed998888e3a",
          "edgeType": "Branch",
          "source": "9ae8f87c78f342408154a342452a151a",
          "target": "3e3216ff4796480687c66a71f0eb52ae",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !vaVars.canView\n})()\n"
          },
          "label": "Cannot View"
        },
        {
          "id": "200985a6e6f6462898f2ff63f578d7ea",
          "edgeType": "Edge",
          "source": "3e3216ff4796480687c66a71f0eb52ae",
          "target": "e282aa115dc64489a3dc8a155443f391",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "a68640d80a21441996913806fe875370",
          "edgeType": "Branch",
          "source": "e282aa115dc64489a3dc8a155443f391",
          "target": "35ded4f6a1c44e88ae43408407b316a7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "request_for_another_user=true",
            "mode": "query"
          },
          "label": "Request for Another User"
        },
        {
          "id": "409a6c604ab34eb8bc7668b8c0d8390c",
          "edgeType": "Branch",
          "source": "e282aa115dc64489a3dc8a155443f391",
          "target": "ee9a37b689ac4ea0aeba818bda2e7b1c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "request_for_another_user=",
            "mode": "query"
          },
          "label": "End Conversation"
        },
        {
          "id": "90b265142a3449cd880743a2db459e68",
          "edgeType": "Branch",
          "source": "050914a1467e42bb91e6f8f0ef7da968",
          "target": "a9b895be6b67455882cfb6b3a0c3cd6e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"
          },
          "label": "Next Question"
        },
        {
          "id": "3732a17900b44671a5b8b3f819b0294b",
          "edgeType": "Branch",
          "source": "a9b895be6b67455882cfb6b3a0c3cd6e",
          "target": "e9eac585d26a4f3880d55b75518344db",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"
          },
          "label": "No onChange Policies"
        },
        {
          "id": "1d15bc50fe354e6b893841646ddac33a",
          "edgeType": "Branch",
          "source": "a9b895be6b67455882cfb6b3a0c3cd6e",
          "target": "d5e86ab12d0245509a9e6baa63794a59",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"
          },
          "label": "Has onChange Policies"
        },
        {
          "id": "c3fbc6fca26840bfb3e89a4d9e53285e",
          "edgeType": "Edge",
          "source": "d5e86ab12d0245509a9e6baa63794a59",
          "target": "e9eac585d26a4f3880d55b75518344db",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6e7db92dbc1b42e3b20ddb6fbcc8880a",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var unSupportedTypes = vaVars.unsupportedVarTypes.split(',');\n   return unSupportedTypes.indexOf(String(JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type)) !== -1;\n})()\n"
          },
          "label": "Unsupported  Variable  Types"
        },
        {
          "id": "bffbb3eb63aa48fa9525a3f61070094d",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "6c5e06ab7b1f4c9f8dfbfd87c820a86f",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"
          },
          "label": "Email Question"
        },
        {
          "id": "ee6879ad8de649eda95c2d178645f191",
          "edgeType": "Edge",
          "source": "6c5e06ab7b1f4c9f8dfbfd87c820a86f",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "33604bfc376b4390ae1d95d9eea2739d",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "109d6fcf686d44a98920f2ed88245fa7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"
          },
          "label": "Ip Address Question"
        },
        {
          "id": "743e86fff8fa477fa46ed2100fcfdeec",
          "edgeType": "Edge",
          "source": "109d6fcf686d44a98920f2ed88245fa7",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "49e5c6659ac24accbf83692d16fb0084",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "6030b829e1f44b02ae1690b327e41ccb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"
          },
          "label": "URL Question"
        },
        {
          "id": "dabf062cb75c49619de80b3f33f44e97",
          "edgeType": "Edge",
          "source": "6030b829e1f44b02ae1690b327e41ccb",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "3570650843de4b758c7f8a0110608663",
          "edgeType": "Branch",
          "source": "e9eac585d26a4f3880d55b75518344db",
          "target": "72d088e21d5f48f7b26f7459bf28ce5d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()"
          },
          "label": "Questions Done"
        },
        {
          "id": "863c6269edcf43c0a0f700c8094e2b4d",
          "edgeType": "Branch",
          "source": "72d088e21d5f48f7b26f7459bf28ce5d",
          "target": "988e6d3f9c1a43a7841e5ef99777733b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === true;\n})()\n"
          },
          "label": "Has  No Attachment"
        },
        {
          "id": "e8e01c4349c042ce8b75f247b2dfaee5",
          "edgeType": "Branch",
          "source": "72d088e21d5f48f7b26f7459bf28ce5d",
          "target": "30e70f25e08d4d34a9d687006f038264",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === false;\n})()\n"
          },
          "label": "Has Attachment"
        },
        {
          "id": "bf235ee219bd47c5ad72e4cbe23c1aa0",
          "edgeType": "Edge",
          "source": "30e70f25e08d4d34a9d687006f038264",
          "target": "fc76f2655de24bc8beb958d3c87e1c33",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "2b8a586121fb4bd1b1b330589906d80f",
          "edgeType": "Branch",
          "source": "fc76f2655de24bc8beb958d3c87e1c33",
          "target": "988e6d3f9c1a43a7841e5ef99777733b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment &amp;&amp; !vaInputs.add_attachment.getValue();\n})()\n"
          },
          "label": "No"
        },
        {
          "id": "9477a702f0ab434b8fc7552779001e77",
          "edgeType": "Branch",
          "source": "fc76f2655de24bc8beb958d3c87e1c33",
          "target": "320b1ad80e814d5abf63efcd37a7187b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.mandatory_attachment || vaInputs.add_attachment.getValue();\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "c85d2f4850894c0fb48a36c1cd4a2693",
          "edgeType": "Edge",
          "source": "08c0349328e743b78153ecf79d34a325",
          "target": "907966ec64cf4ecc923673986a037b06",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b08b5ce0c1064341a485d126952dd5f9",
          "edgeType": "Branch",
          "source": "907966ec64cf4ecc923673986a037b06",
          "target": "320b1ad80e814d5abf63efcd37a7187b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "add_more=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "4a73f856339043c6bc7a137df829e196",
          "edgeType": "Branch",
          "source": "907966ec64cf4ecc923673986a037b06",
          "target": "988e6d3f9c1a43a7841e5ef99777733b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "add_more=",
            "mode": "query"
          },
          "label": "No"
        },
        {
          "id": "b7059b97624e48ee92bd83875211341d",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "a441c1254f4448d3b4a1132c28e4edfe",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 33;\n})()\n"
          },
          "label": "Question Attachment"
        },
        {
          "id": "963340c9d7cc4b879636d3e9b3f57f97",
          "edgeType": "Edge",
          "source": "7848b0a8795143e792210e11e6d7ad76",
          "target": "bf93da351a324091923e73cc57d5b90f",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "510d752cb6de47b68875f646d62c7981",
          "edgeType": "Branch",
          "source": "bf93da351a324091923e73cc57d5b90f",
          "target": "a9b895be6b67455882cfb6b3a0c3cd6e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"
          },
          "label": "Next Question"
        },
        {
          "id": "60be3616800943bd83551cd45efc60a6",
          "edgeType": "Branch",
          "source": "bf93da351a324091923e73cc57d5b90f",
          "target": "3a9074e343be4d04b92488f7cff92805",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"
          },
          "label": "Repeat Question"
        },
        {
          "id": "5214ef1741dd4490a2892156dcb61158",
          "edgeType": "Edge",
          "source": "3a9074e343be4d04b92488f7cff92805",
          "target": "a441c1254f4448d3b4a1132c28e4edfe",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "575b288721f64116a02aaaa7e90b599a",
          "edgeType": "Edge",
          "source": "5ab80eb6d2e44f0cb862fa2f4c8a8691",
          "target": "34b75d32b7e947c9be750c493569c728",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8fecfe183b104dbfb8ac058123d4aedb",
          "edgeType": "Branch",
          "source": "34b75d32b7e947c9be750c493569c728",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n   \n    if (itemJson.sys_class_name !== 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()\n"
          },
          "label": "No"
        },
        {
          "id": "6f41189bc0d443f0add3eb6d1f0ab3fa",
          "edgeType": "Branch",
          "source": "34b75d32b7e947c9be750c493569c728",
          "target": "99ac7d5f2c8248cbbdbbe867268e46f0",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()"
          },
          "label": "Yes"
        },
        {
          "id": "1538f6616eb94399a3e8be68afb2d884",
          "edgeType": "Branch",
          "source": "99ac7d5f2c8248cbbdbbe867268e46f0",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'false' || ans.trim().length === 0) {\n        return true;\n    }\n    return false;    \n})()\n"
          },
          "label": "No",
          "fromNode": "- Execute Contextual Search",
          "toNode": "c66022ff4ef9481088af86b3b4316b39",
          "toEdge": "1538f6616eb94399a3e8be68afb2d884",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "5a4e8e34725d462d8967f83fe7668ffa",
          "edgeType": "Branch",
          "source": "99ac7d5f2c8248cbbdbbe867268e46f0",
          "target": "8acbf8baa8514b8891d2ea5d7365c299",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'true'  &amp;&amp; ans.trim().length !== 0) {\n        return true;\n    }\n    return false;     \n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "736a9fd4e03a403bbef9f93d6172803e",
          "edgeType": "Edge",
          "source": "8acbf8baa8514b8891d2ea5d7365c299",
          "target": "6d4a3349910b445bafa32623a0ad0ebc",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8e1778a272a348659dbee677e04f34b8",
          "edgeType": "Branch",
          "source": "6d4a3349910b445bafa32623a0ad0ebc",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable !== quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"
          },
          "label": "No",
          "fromNode": "- Contextual Search Variable ?",
          "toNode": "c66022ff4ef9481088af86b3b4316b39",
          "toEdge": "8e1778a272a348659dbee677e04f34b8",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "b417dcdbb8744b2fbaff59671311a48a",
          "edgeType": "Branch",
          "source": "6d4a3349910b445bafa32623a0ad0ebc",
          "target": "8f387c4cfd93437a85f65d9afcf5a1e9",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable === quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"
          },
          "label": "Yes"
        },
        {
          "id": "a5d8dec105e94a1d82054ce8c4526a5c",
          "edgeType": "Edge",
          "source": "8f387c4cfd93437a85f65d9afcf5a1e9",
          "target": "e429f41f148b49fcac66f5350abea502",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "36fecec3264648d89d0ee127b5b7be17",
          "edgeType": "Branch",
          "source": "e429f41f148b49fcac66f5350abea502",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if(vaVars.contextualSearchResultCount &lt;= 0){\n        return true;\n    }\n    return false;\n})()\n"
          },
          "label": "No",
          "fromNode": "- Did the search return results ?",
          "toNode": "c66022ff4ef9481088af86b3b4316b39",
          "toEdge": "36fecec3264648d89d0ee127b5b7be17",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "d10d8fb98bab4a048404bf8047fe2fd7",
          "edgeType": "Branch",
          "source": "e429f41f148b49fcac66f5350abea502",
          "target": "af35d1b18d92406a87e2b9b8f911fa7e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if(vaVars.contextualSearchResultCount &gt; 0){\n        return true;\n    }\n    return false;\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "3529b4ba02b54a708bd9f5e6a6446688",
          "edgeType": "Branch",
          "source": "0a8b35bbdea846d79548d9ff0d332b06",
          "target": "ee9a37b689ac4ea0aeba818bda2e7b1c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "did_articles_help=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "4ad8c5236def46e89c39194940fec38e",
          "edgeType": "Branch",
          "source": "0a8b35bbdea846d79548d9ff0d332b06",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "did_articles_help!=true",
            "mode": "query"
          },
          "label": "No",
          "fromNode": "- Decision",
          "toNode": "c66022ff4ef9481088af86b3b4316b39",
          "toEdge": "4ad8c5236def46e89c39194940fec38e",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "2eda65d0f35e47c1b37228244e284344",
          "edgeType": "Edge",
          "source": "af35d1b18d92406a87e2b9b8f911fa7e",
          "target": "344ee29e07d74d0da33b25ab45c5c4a5",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9a153645a1ad401aa4f3a25e92e1df6c",
          "edgeType": "Edge",
          "source": "344ee29e07d74d0da33b25ab45c5c4a5",
          "target": "0a8b35bbdea846d79548d9ff0d332b06",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8f8d84eb3971473d8e87ede26accccf1",
          "edgeType": "Edge",
          "source": "25b5773f1b5148d18fc6de6045430453",
          "target": "a4b0635009ad47188dd483fd7ad10456",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "a79c88ec7d6640c4abc29079a54c441b",
          "edgeType": "Branch",
          "source": "a4b0635009ad47188dd483fd7ad10456",
          "target": "988fa2d475a7444f834dbffe82622620",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "confirm_catalog_item=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "68fc1e5349664040b2de6b8345220ced",
          "edgeType": "Branch",
          "source": "a4b0635009ad47188dd483fd7ad10456",
          "target": "e9eac585d26a4f3880d55b75518344db",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "confirm_catalog_item=false",
            "mode": "query"
          },
          "label": "No",
          "fromNode": "- Confirmation Required ?",
          "toNode": "e9eac585d26a4f3880d55b75518344db",
          "toEdge": "68fc1e5349664040b2de6b8345220ced",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "818afdbc07e348dca0b69926d9ac59b4",
          "edgeType": "Branch",
          "source": "171f5fc4b90b423ea2b1a90cb79e80bb",
          "target": "ee726de82854420bb1f700445b8238c4",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "order_item=true",
            "mode": "query"
          },
          "label": "Order Now"
        },
        {
          "id": "9b0aa2c9c5194fac940a043760533b15",
          "edgeType": "Branch",
          "source": "ee726de82854420bb1f700445b8238c4",
          "target": "167c349716f2466482ed8ac660ce5b77",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"
          },
          "label": "Order"
        },
        {
          "id": "8b969255494a4c91b602d37a679e2747",
          "edgeType": "Branch",
          "source": "ee726de82854420bb1f700445b8238c4",
          "target": "fbb5c8c0c6a84510b1cd78841d0926f1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"
          },
          "label": "Preview"
        },
        {
          "id": "899084b5ca574a92a71cf4ab9179efb8",
          "edgeType": "Branch",
          "source": "1330750b00104280938055d31e8cb68e",
          "target": "de99d63b433e4d33967be27e06409a49",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "submit_producer=true",
            "mode": "query"
          },
          "label": "Submit Now"
        },
        {
          "id": "cadece4df2a2482aab1227ff13df4030",
          "edgeType": "Branch",
          "source": "de99d63b433e4d33967be27e06409a49",
          "target": "c74e0b99088f4651b434e1e875b8f0b1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"
          },
          "label": "Submit"
        },
        {
          "id": "69cb4486806743ff9f21f705e7c000ee",
          "edgeType": "Branch",
          "source": "de99d63b433e4d33967be27e06409a49",
          "target": "fbb5c8c0c6a84510b1cd78841d0926f1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"
          },
          "label": "Preview"
        },
        {
          "id": "5a0a22802a864b118c71c2ae0ad72655",
          "edgeType": "Edge",
          "source": "fbb5c8c0c6a84510b1cd78841d0926f1",
          "target": "ed8365a67c6b48f7a6b6a945a883865b",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9ef716c902384c889ca88d76495bf5cf",
          "edgeType": "Edge",
          "source": "ed8365a67c6b48f7a6b6a945a883865b",
          "target": "ee9a37b689ac4ea0aeba818bda2e7b1c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d7f1de7b01f84072b294cbb363061820",
          "edgeType": "Edge",
          "source": "320b1ad80e814d5abf63efcd37a7187b",
          "target": "2a4467514c7f476dac1d3e1304137b6b",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "3d205bd9b6d544f0b8c3a8b2acca558f",
          "edgeType": "Branch",
          "source": "2a4467514c7f476dac1d3e1304137b6b",
          "target": "8d55239a3ef54ccbbcaec023716f747d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.upload_attachmentISNOTEMPTY",
            "mode": "query"
          },
          "label": "Attachment uploaded"
        },
        {
          "id": "9fe948b2100949b2a16e59043a1aca7b",
          "edgeType": "Branch",
          "source": "2a4467514c7f476dac1d3e1304137b6b",
          "target": "988e6d3f9c1a43a7841e5ef99777733b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.upload_attachmentISEMPTY",
            "mode": "query"
          },
          "label": "Attachment skipped"
        },
        {
          "id": "4954354aa639426a988b863743506124",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "2b7e0141fd494576b8aec8be7205dd3e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 32;\n})()\n"
          },
          "label": "Rich Text Label Question"
        },
        {
          "id": "0e29b9d922e3458bbd6e96befa40aba2",
          "edgeType": "Edge",
          "source": "2b7e0141fd494576b8aec8be7205dd3e",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1f7443815cfe42ae91752a326ac6c9e2",
          "edgeType": "Branch",
          "source": "e9eac585d26a4f3880d55b75518344db",
          "target": "27cdee4f92164c028813a6defe374f8c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n     var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do {\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n        vaVars.qIndex = qIndex;\n        return true;\n    }\n    return false;\n})()"
          },
          "label": "Questions Left"
        },
        {
          "id": "32c91425b74f4ff19c1392a5aa81c292",
          "edgeType": "Edge",
          "source": "27cdee4f92164c028813a6defe374f8c",
          "target": "61fae8ec10b1441ca8fb0c7a701bad91",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "aa39f648ebcd4c2ab611aac98b759c1b",
          "edgeType": "Edge",
          "source": "61fae8ec10b1441ca8fb0c7a701bad91",
          "target": "d468fc4e201044fdaae32753b0c4f713",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "07c396cccfbf4f248b2f836ebbbcf818",
          "edgeType": "Branch",
          "source": "d468fc4e201044fdaae32753b0c4f713",
          "target": "70d3c365c13145e091a12dc5b10de86e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.proceed_with_default=",
            "mode": "query"
          },
          "label": "Do not proceed with default value"
        },
        {
          "id": "153d0a1caa0a43cea1cb1be4769ceab0",
          "edgeType": "Branch",
          "source": "d468fc4e201044fdaae32753b0c4f713",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.proceed_with_default=true",
            "mode": "query"
          },
          "label": "Proceed with default value"
        },
        {
          "id": "e7786e2e2a184e389552a15766f46b16",
          "edgeType": "Edge",
          "source": "167c349716f2466482ed8ac660ce5b77",
          "target": "d85fbfc28c194ceaaafe79f24a8467a7",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "0f44af831bcc4565bc7d9360953cbdf9",
          "edgeType": "Branch",
          "source": "d85fbfc28c194ceaaafe79f24a8467a7",
          "target": "ee9a37b689ac4ea0aeba818bda2e7b1c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.show_end_state_card=",
            "mode": "query"
          },
          "label": "No",
          "fromNode": "24 Show end state card?",
          "toNode": "ee9a37b689ac4ea0aeba818bda2e7b1c",
          "toEdge": "0f44af831bcc4565bc7d9360953cbdf9",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "c7554d6ddfac495eb5e4d22b2b082d77",
          "edgeType": "Edge",
          "source": "3a97a25793414ebf9115b7a2ac39428f",
          "target": "4fcfa436a7f74dd8a87e2a5764a13077",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "e04c187f89944f4b9f0883f88cdd5bdd",
          "edgeType": "Branch",
          "source": "4fcfa436a7f74dd8a87e2a5764a13077",
          "target": "5ab80eb6d2e44f0cb862fa2f4c8a8691",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"
          },
          "label": "Text Type"
        },
        {
          "id": "b2a7703d5afe418e943e55f94ef5a039",
          "edgeType": "Branch",
          "source": "4fcfa436a7f74dd8a87e2a5764a13077",
          "target": "6c5e06ab7b1f4c9f8dfbfd87c820a86f",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"
          },
          "label": "Email Type"
        },
        {
          "id": "222793f3bc7949078172d58e5be5f27d",
          "edgeType": "Branch",
          "source": "4fcfa436a7f74dd8a87e2a5764a13077",
          "target": "109d6fcf686d44a98920f2ed88245fa7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"
          },
          "label": "IP Address Type"
        },
        {
          "id": "46c7b7506e8a4df6bcb0220c0b700780",
          "edgeType": "Branch",
          "source": "4fcfa436a7f74dd8a87e2a5764a13077",
          "target": "6030b829e1f44b02ae1690b327e41ccb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"
          },
          "label": "URL Type"
        },
        {
          "id": "1036ce2791fd4627a94b259250e6b442",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "03953adbfbd84821a0a205423447ba68",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 1 || type === 3 || type === 4 || type === 5 || type === 18 || type === 22;\n})()\n"
          },
          "label": "Choice Question"
        },
        {
          "id": "6f415fed03ee491cbd4cdf109c953c8b",
          "edgeType": "Branch",
          "source": "03953adbfbd84821a0a205423447ba68",
          "target": "4c6af8c221ba4a99baf6be82b3926f46",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"
          },
          "label": "Mobile/Web Client"
        },
        {
          "id": "00b5f2d713b34c519f584b4bd9fc9fef",
          "edgeType": "Branch",
          "source": "03953adbfbd84821a0a205423447ba68",
          "target": "5cc5c5533600424aa9922f1d9c50f5f9",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()\n"
          },
          "label": "Other Channels"
        },
        {
          "id": "b07984f6f2844cd8b2b14d640df0cc18",
          "edgeType": "Edge",
          "source": "5cc5c5533600424aa9922f1d9c50f5f9",
          "target": "f4fef2c6ac474657a01757e432764b96",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "12e72a98618049089770f12991531ac4",
          "edgeType": "Branch",
          "source": "f4fef2c6ac474657a01757e432764b96",
          "target": "c74362c12bab4def8031dc1c228d3c2a",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"prev\";\n})()\n"
          },
          "label": "Question Choice Prev"
        },
        {
          "id": "7a583b2e6549435da90e0e86c518dec2",
          "edgeType": "Edge",
          "source": "c74362c12bab4def8031dc1c228d3c2a",
          "target": "5cc5c5533600424aa9922f1d9c50f5f9",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "78c254fc19004ee8833d5593b4c24e18",
          "edgeType": "Branch",
          "source": "f4fef2c6ac474657a01757e432764b96",
          "target": "857a2ca17ace457ab77740c89ad2e7f0",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"next\";\n})()\n"
          },
          "label": "Question Choice Next"
        },
        {
          "id": "d8a90ff297484c499dffe5ede1afc99a",
          "edgeType": "Edge",
          "source": "857a2ca17ace457ab77740c89ad2e7f0",
          "target": "5cc5c5533600424aa9922f1d9c50f5f9",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "2fc8776e5ca94ad8a2c36177947479bb",
          "edgeType": "Branch",
          "source": "f4fef2c6ac474657a01757e432764b96",
          "target": "361cc379503b4181803e39a485557286",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_choice_other_channels.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"
          },
          "label": "Question Choice Chosen"
        },
        {
          "id": "cdc4fa03e44643788662b77523f0b450",
          "edgeType": "Edge",
          "source": "4c6af8c221ba4a99baf6be82b3926f46",
          "target": "361cc379503b4181803e39a485557286",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "014e169ea7ea41aebb19bb25400d827b",
          "edgeType": "Edge",
          "source": "361cc379503b4181803e39a485557286",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7669cb31728c436bb3a34c25070a6572",
          "edgeType": "Branch",
          "source": "70d3c365c13145e091a12dc5b10de86e",
          "target": "ecb7ec4f0ecb4ca3b19fdc6023d885c1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 8;\n})()"
          },
          "label": "Reference Question"
        },
        {
          "id": "1d461d123d754d36ac948cb3d34f4796",
          "edgeType": "Branch",
          "source": "ecb7ec4f0ecb4ca3b19fdc6023d885c1",
          "target": "6453c12c82cb4b17a1fbeb39deba01a6",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"
          },
          "label": "Mobile/Web Client"
        },
        {
          "id": "f7a14c0fb7154067ae3a506582ac465a",
          "edgeType": "Branch",
          "source": "ecb7ec4f0ecb4ca3b19fdc6023d885c1",
          "target": "7eb9c5d44ae74b898dadb1e2163f6e6b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()"
          },
          "label": "Other Channels"
        },
        {
          "id": "4475f9a5c29c4650b40ff1404b08f9cc",
          "edgeType": "Edge",
          "source": "7eb9c5d44ae74b898dadb1e2163f6e6b",
          "target": "5a0a41c0a7e2413f9933c50a27891af4",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "edd01d35cbe84fe480117a98dfd773c0",
          "edgeType": "Edge",
          "source": "5a0a41c0a7e2413f9933c50a27891af4",
          "target": "00fb592cfc874adcb98f2093308c66c4",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "e4d3a34ba5a9486d921f1c0add8cf29c",
          "edgeType": "Branch",
          "source": "00fb592cfc874adcb98f2093308c66c4",
          "target": "0d9abaea1ab746c8a0b56f7c7f921f08",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"prev\";\n})()\n"
          },
          "label": "Question Reference Prev"
        },
        {
          "id": "2e245a69d57246dba629e553647b1eb2",
          "edgeType": "Edge",
          "source": "0d9abaea1ab746c8a0b56f7c7f921f08",
          "target": "5a0a41c0a7e2413f9933c50a27891af4",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "056e3cb0cf624ab9b3a29d06d056a912",
          "edgeType": "Branch",
          "source": "00fb592cfc874adcb98f2093308c66c4",
          "target": "6828be18cfb040438e7a1fe30123021c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"next\";\n})()\n"
          },
          "label": "Question Reference Next"
        },
        {
          "id": "26f753a3093842e490ff6cde01dcecb5",
          "edgeType": "Edge",
          "source": "6828be18cfb040438e7a1fe30123021c",
          "target": "5a0a41c0a7e2413f9933c50a27891af4",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "68fdc9e4ca92431996222607d52ca21e",
          "edgeType": "Branch",
          "source": "00fb592cfc874adcb98f2093308c66c4",
          "target": "f937a07fbcc3438b8c0211a393babc23",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var chosenCondition = valuePicked &amp;&amp; valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev' &amp;&amp; valuePicked !== 'search';\n    var skippedCondition = vaVars.no_records_found === \"false\" &amp;&amp; !valuePicked;\n    if (chosenCondition || skippedCondition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    \n    return chosenCondition || skippedCondition;\n})();"
          },
          "label": "Question Reference Chosen/Skipped"
        },
        {
          "id": "be492cc570a04cb199d3ffb71fe10569",
          "edgeType": "Branch",
          "source": "00fb592cfc874adcb98f2093308c66c4",
          "target": "7eb9c5d44ae74b898dadb1e2163f6e6b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var condition = (vaVars.no_records_found === \"true\") || valuePicked === \"search\";\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})()\n"
          },
          "label": "Search Question Reference"
        },
        {
          "id": "b3be5827e3474bf09d111f1680423065",
          "edgeType": "Edge",
          "source": "6453c12c82cb4b17a1fbeb39deba01a6",
          "target": "f937a07fbcc3438b8c0211a393babc23",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "836d0209b0bc4434bd93c135924c77fe",
          "edgeType": "Edge",
          "source": "f937a07fbcc3438b8c0211a393babc23",
          "target": "c66022ff4ef9481088af86b3b4316b39",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "c6b0a74967f24fc3b9a6fde8b284ef68",
          "edgeType": "Branch",
          "source": "d85fbfc28c194ceaaafe79f24a8467a7",
          "target": "3da5cbd4bba8463b94fec99c0abeac0d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.show_end_state_card=true",
            "mode": "query"
          },
          "label": "Yes",
          "fromNode": "24 Show end state card?",
          "toNode": "ee9a37b689ac4ea0aeba818bda2e7b1c",
          "toEdge": "c6b0a74967f24fc3b9a6fde8b284ef68",
          "addNode": {},
          "nodeEntries": {}
        }
      ]
    }
  },
  "variables": {
    "db7b8b4c6f2148c4ac190dc68b515988": {
      "id": "db7b8b4c6f2148c4ac190dc68b515988",
      "name": "catalog_item_id",
      "label": "Catalog_item_id",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "836b617db27842c6bc58d0c041d7366d",
      "isHidden": false
    },
    "f537cf7a08994bff8315575ab77270b7": {
      "id": "f537cf7a08994bff8315575ab77270b7",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "itemJSON",
      "label": "itemJSON",
      "varType": "script",
      "category": "vaVars"
    },
    "e6c20f086a7a40d6ad91ac2e879e7bd2": {
      "id": "e6c20f086a7a40d6ad91ac2e879e7bd2",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "itemName",
      "label": "itemName",
      "varType": "script",
      "category": "vaVars"
    },
    "297e668bda4f44bd90a01aa371b51767": {
      "id": "297e668bda4f44bd90a01aa371b51767",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "record_id",
      "label": "record_id",
      "varType": "script",
      "category": "vaVars"
    },
    "3c3fb996ea174528aed508271c1a4a4c": {
      "id": "3c3fb996ea174528aed508271c1a4a4c",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "record_table",
      "label": "record_table",
      "varType": "script",
      "category": "vaVars"
    },
    "2eec97e171694cf5a52a2449954fb307": {
      "id": "2eec97e171694cf5a52a2449954fb307",
      "name": "proceed",
      "label": "Proceed",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "e9a6888894644a5bbfaf0abd1db55696",
      "isHidden": false
    },
    "aa9a866d529744fe90aef3fa859fd98d": {
      "id": "aa9a866d529744fe90aef3fa859fd98d",
      "value": {
        "mode": "simple",
        "value": "-1"
      },
      "name": "qIndex",
      "label": "qIndex",
      "varType": "script",
      "category": "vaVars"
    },
    "d21e775679e14ac6ba8f3c71e521fae9": {
      "id": "d21e775679e14ac6ba8f3c71e521fae9",
      "name": "submit_producer",
      "label": "Submit Producer",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "5ba7e3b605e545e3b07c22941e71faf3",
      "isHidden": false
    },
    "a63ed0981e394cd4880645b74f4f70e8": {
      "id": "a63ed0981e394cd4880645b74f4f70e8",
      "value": {
        "mode": "simple",
        "value": "7"
      },
      "name": "limit",
      "label": "limit",
      "varType": "script",
      "category": "vaVars"
    },
    "f340f7dac462401c9625ac97fb2f6a5a": {
      "id": "f340f7dac462401c9625ac97fb2f6a5a",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "count",
      "label": "count",
      "varType": "script",
      "category": "vaVars"
    },
    "7535644a66fc4e368c652d4dbc0a7b11": {
      "id": "7535644a66fc4e368c652d4dbc0a7b11",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "index",
      "label": "index",
      "varType": "script",
      "category": "vaVars"
    },
    "b33e500830b44d12a49777642a3c37f5": {
      "id": "b33e500830b44d12a49777642a3c37f5",
      "name": "order_item",
      "label": "Order Item",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "ce3ba3071d3344e6834e81789558990b",
      "isHidden": false
    },
    "34ad30062bbf4d9e8f36fd72def41910": {
      "id": "34ad30062bbf4d9e8f36fd72def41910",
      "name": "question_date",
      "label": "Question Date",
      "varType": "date_time",
      "category": "vaInputs",
      "mode": "date",
      "nodeId": "6f33efaa0e5b4679a117ea6c037aa577",
      "isHidden": false
    },
    "2116c701d98b4a179b6800a0faf31513": {
      "id": "2116c701d98b4a179b6800a0faf31513",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "validation_message",
      "label": "validation_message",
      "varType": "script",
      "category": "vaVars"
    },
    "56275a59ba5640deadbe70a2fd4ee8a7": {
      "id": "56275a59ba5640deadbe70a2fd4ee8a7",
      "name": "question_text",
      "label": "Question Text",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256",
      "nodeId": "5ab80eb6d2e44f0cb862fa2f4c8a8691",
      "isHidden": false
    },
    "8f8129ddd8a247a49082f9a0dc5267a4": {
      "id": "8f8129ddd8a247a49082f9a0dc5267a4",
      "name": "question_reference",
      "label": "Question Reference",
      "varType": "reference",
      "table": "",
      "category": "vaInputs",
      "nodeId": "6453c12c82cb4b17a1fbeb39deba01a6",
      "isHidden": false
    },
    "75182baea4714952a03f9453d7b0bfa5": {
      "category": "vaInputs",
      "id": "75182baea4714952a03f9453d7b0bfa5",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "f9deb31691d34e228af404060fa004fb": {
      "id": "f9deb31691d34e228af404060fa004fb",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"
      },
      "name": "request_for",
      "label": "request_for",
      "varType": "script",
      "category": "vaVars"
    },
    "7fbe73e26ec14d9487de4b1428ad09b2": {
      "id": "7fbe73e26ec14d9487de4b1428ad09b2",
      "name": "question_choice",
      "label": "Question Choice",
      "varType": "reference",
      "table": "",
      "category": "vaInputs",
      "nodeId": "4c6af8c221ba4a99baf6be82b3926f46",
      "isHidden": false
    },
    "2eceae29bdbb48a9bfd3834cdfa3d005": {
      "id": "2eceae29bdbb48a9bfd3834cdfa3d005",
      "name": "question_date_time",
      "label": "Question Date Time",
      "varType": "date_time",
      "category": "vaInputs",
      "mode": "date_time",
      "nodeId": "820e4cbca8ad4f69b564dae363950c56",
      "isHidden": false
    },
    "577429508dc844a1b29ca36a705ad6a0": {
      "id": "577429508dc844a1b29ca36a705ad6a0",
      "name": "question_requested_for",
      "label": "Question Requested For",
      "varType": "reference",
      "table": "",
      "category": "vaInputs",
      "nodeId": "6c8059d4243f40bba1e4e7f037191d28",
      "isHidden": false
    },
    "2d78ae6b99284af099cd9e9ded5e9a22": {
      "id": "2d78ae6b99284af099cd9e9ded5e9a22",
      "name": "search_requested_for",
      "label": "Search Requested For",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256",
      "nodeId": "35ded4f6a1c44e88ae43408407b316a7",
      "isHidden": false
    },
    "1ce070acc01a4e72a656f13e2cf40fe6": {
      "id": "1ce070acc01a4e72a656f13e2cf40fe6",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return false;\n})()\n"
      },
      "name": "canView",
      "label": "canView",
      "varType": "script",
      "category": "vaVars"
    },
    "a9b30e728ccd4cf98c1ff5659106305d": {
      "id": "a9b30e728ccd4cf98c1ff5659106305d",
      "name": "request_for_another_user",
      "label": "Request For Another User",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "3e3216ff4796480687c66a71f0eb52ae",
      "isHidden": false
    },
    "0dbead43c1e14ea4b39ff81e2039b052": {
      "id": "0dbead43c1e14ea4b39ff81e2039b052",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '7,14,15,17,21,23,25,29,30';\n})()\n"
      },
      "name": "unsupportedVarTypes",
      "label": "unsupportedVarTypes",
      "varType": "script",
      "category": "vaVars"
    },
    "4a27aaa8e7304198b242baa8b7a4b187": {
      "id": "4a27aaa8e7304198b242baa8b7a4b187",
      "name": "question_email",
      "label": "Question Email",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256",
      "nodeId": "6c5e06ab7b1f4c9f8dfbfd87c820a86f",
      "isHidden": false
    },
    "0b61462465db4c74af5e8c68ade728e6": {
      "id": "0b61462465db4c74af5e8c68ade728e6",
      "name": "question_ip_address",
      "label": "Question IP Address",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256",
      "nodeId": "109d6fcf686d44a98920f2ed88245fa7",
      "isHidden": false
    },
    "1a515f29c361490b880a95cf10963479": {
      "id": "1a515f29c361490b880a95cf10963479",
      "name": "question_url",
      "label": "Question URL",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256",
      "nodeId": "6030b829e1f44b02ae1690b327e41ccb",
      "isHidden": false
    },
    "b3af740c1d534f119807f8b96398b18f": {
      "id": "b3af740c1d534f119807f8b96398b18f",
      "name": "add_attachment",
      "label": "Add Attachment",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "30e70f25e08d4d34a9d687006f038264",
      "isHidden": false
    },
    "afdf7764a3d6442095b9b9ca14f2a723": {
      "id": "afdf7764a3d6442095b9b9ca14f2a723",
      "name": "upload_attachment",
      "label": "Upload Attachment",
      "varType": "file",
      "category": "vaInputs",
      "nodeId": "320b1ad80e814d5abf63efcd37a7187b",
      "isHidden": false
    },
    "c828e7659b144616b0d69b3f998ecfe2": {
      "id": "c828e7659b144616b0d69b3f998ecfe2",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "media_links_form_attachment",
      "label": "media_links_form_attachment",
      "varType": "script",
      "category": "vaVars"
    },
    "9e6ef42c35d64f5b80f388522c124b23": {
      "id": "9e6ef42c35d64f5b80f388522c124b23",
      "name": "add_more",
      "label": "Add More",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "08c0349328e743b78153ecf79d34a325",
      "isHidden": false
    },
    "adff9847d5e546aab570210ed6a15a72": {
      "id": "adff9847d5e546aab570210ed6a15a72",
      "name": "question_attachment",
      "label": "Question Attachment",
      "varType": "file",
      "category": "vaInputs",
      "nodeId": "a441c1254f4448d3b4a1132c28e4edfe",
      "isHidden": false
    },
    "fb51e44b9283461a84e41ab8d0057599": {
      "id": "fb51e44b9283461a84e41ab8d0057599",
      "name": "execute_contextual_search",
      "label": "Execute_contextual_search",
      "defaultValue": "false",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "836b617db27842c6bc58d0c041d7366d",
      "isHidden": false
    },
    "ab0756fb4a364d878aaf062d02a425fc": {
      "id": "ab0756fb4a364d878aaf062d02a425fc",
      "name": "confirm_catalog_item",
      "label": "Confirm_catalog_item",
      "defaultValue": "true",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "836b617db27842c6bc58d0c041d7366d",
      "isHidden": false
    },
    "fb8be771f1c2465a9ddce7f012353b2d": {
      "id": "fb8be771f1c2465a9ddce7f012353b2d",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "contextualSearchVariable",
      "label": "contextualSearchVariable",
      "varType": "script",
      "category": "vaVars"
    },
    "174e0379705d4a579b24d7cfa9889237": {
      "id": "174e0379705d4a579b24d7cfa9889237",
      "value": {
        "mode": "simple",
        "value": "2821675a5b30130070e4492c11f91a89"
      },
      "name": "contextualSearchContext",
      "label": "contextualSearchContext",
      "varType": "script",
      "category": "vaVars"
    },
    "d197d71b0ae14318b52a35f6af25902c": {
      "id": "d197d71b0ae14318b52a35f6af25902c",
      "value": {
        "mode": "simple",
        "value": "3"
      },
      "name": "contextualSearchResultLimit",
      "label": "contextualSearchResultLimit",
      "varType": "script",
      "category": "vaVars"
    },
    "601b930452384932967a4f44aa40e931": {
      "id": "601b930452384932967a4f44aa40e931",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "contextualSearchIndex",
      "label": "contextualSearchIndex",
      "varType": "script",
      "category": "vaVars"
    },
    "d1c52f50866644b3b74ab462d14b19e9": {
      "id": "d1c52f50866644b3b74ab462d14b19e9",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "contextualSearchResultJsonString",
      "label": "contextualSearchResultJsonString",
      "varType": "script",
      "category": "vaVars"
    },
    "0ca91865ae6c4419a5b8814fcde32270": {
      "id": "0ca91865ae6c4419a5b8814fcde32270",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "contextualSearchResultCount",
      "label": "contextualSearchResultCount",
      "varType": "script",
      "category": "vaVars"
    },
    "baf60aaef7bd41908441243355dab52f": {
      "id": "baf60aaef7bd41908441243355dab52f",
      "name": "did_articles_help",
      "label": "Did_articles_help",
      "varType": "boolean",
      "category": "vaInputs",
      "nodeId": "344ee29e07d74d0da33b25ab45c5c4a5",
      "isHidden": false
    },
    "a297407c1ec9479fac64e066b2f3af81": {
      "id": "a297407c1ec9479fac64e066b2f3af81",
      "name": "proceed_with_default",
      "label": "Proceed With Default",
      "varType": "boolean",
      "secure": false,
      "category": "vaInputs",
      "nodeId": "61fae8ec10b1441ca8fb0c7a701bad91",
      "isHidden": false
    },
    "230c8cd35799480eacd9a1dd3c4c7e61": {
      "id": "230c8cd35799480eacd9a1dd3c4c7e61",
      "name": "show_end_state_card",
      "label": "Show_end_state_card",
      "defaultValue": "false",
      "varType": "boolean",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      },
      "nodeId": "836b617db27842c6bc58d0c041d7366d",
      "isHidden": false
    },
    "13fe918fc2db4a89833ec7d629e5c901": {
      "id": "13fe918fc2db4a89833ec7d629e5c901",
      "name": "question_choice_other_channels",
      "label": "Question Choice Other Channels",
      "varType": "reference",
      "table": "",
      "category": "vaInputs",
      "nodeId": "5cc5c5533600424aa9922f1d9c50f5f9",
      "isHidden": false
    },
    "600c7170ecad46a19321bdffc2215d17": {
      "id": "600c7170ecad46a19321bdffc2215d17",
      "name": "search_reference",
      "label": "Search Reference",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTY1MDQ4NTE4OTAxMCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "7eb9c5d44ae74b898dadb1e2163f6e6b",
      "isHidden": false
    },
    "db8bc56dd63948a5b39fd78a8b716c34": {
      "id": "db8bc56dd63948a5b39fd78a8b716c34",
      "name": "question_reference_other_channels",
      "label": "Question Reference Other Channels",
      "varType": "reference",
      "table": "",
      "category": "vaInputs",
      "nodeId": "5a0a41c0a7e2413f9933c50a27891af4",
      "isHidden": false
    },
    "1f65a84371e44fd09e4640d42de30a19": {
      "id": "1f65a84371e44fd09e4640d42de30a19",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    /* return 'a default value'; */\n    return \"false\";\n})()\n"
      },
      "name": "no_records_found",
      "label": "no_records_found",
      "varType": "script",
      "category": "vaVars"
    }
  }
}</graph>
        <name>Submit a Request</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-10-31 15:08:21</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>379defb253b2d510b269ddeeff7b121c</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_cb_design_topic_379defb253b2d510b269ddeeff7b121c</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-10-31 15:08:21</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
